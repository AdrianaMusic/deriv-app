{"version":3,"sources":["webpack:///./App/Containers/RealityCheckModal/brief-modal.jsx","webpack:///./App/Containers/RealityCheckModal/summary-modal.jsx","webpack:///./App/Containers/RealityCheckModal/reality-check-modal.jsx"],"names":["BriefModal","disableApp","enableApp","IntervalField","is_visible","logout","onSubmit","openStatement","validateForm","className","is_open","has_close_icon","title","localize","portalId","width","initialValues","interval","validate","errors","isSubmitting","isValid","values","touched","handleChange","handleBlur","noValidate","Body","max_autoheight_offset","is_disabled","isDesktop","i18n_default_text","components","key","onClick","Footer","has_separator","has_cancel","cancel_label","label","onCancel","propTypes","PropTypes","func","bool","Row","value","RowInfo","SummaryModal","openPositions","reality_check_duration","server_time","React","computed_values","setComputedValues","before_req","performance","now","WS","realityCheck","then","response","reality_check","time_taken","current_time","add","current_date_time_gmt","toGMTFormat","duration_string","getSessionDuration","start_time","unix","profit","sell_amount","buy_amount","start_date_time_gmt","turnover","session_duration","getDiffDuration","num_day","get","num_hour","num_minute","isEmptyObject","date_time","isMobile","height","autoHide","is_bypassed","loginid","currency","amount","buy_count","sell_count","potential_profit","type","secondary","large","open_contract_count","number","object","name","field","data-lpignore","onChange","onBlur","hint","required","error","autoComplete","maxLength","RealityCheckModal","logoutClient","reality_check_dismissed","setRealityCheckDuration","setReportsTabIndex","setVisibilityRealityCheck","history","useHistory","push","routes","statement","validNumber","min","max","is_ok","message","positions","connect","client","common","ui","is_reality_check_visible"],"mappings":"qOAOMA,EAAa,SAAC,GASd,IARFC,EAQE,EARFA,WACAC,EAOE,EAPFA,UACAC,EAME,EANFA,cACAC,EAKE,EALFA,WACAC,EAIE,EAJFA,OACAC,EAGE,EAHFA,SACAC,EAEE,EAFFA,cACAC,EACE,EADFA,aAEA,OACI,gBAAC,QAAD,CACIC,UAAU,gBACVP,UAAWA,EACXQ,QAASN,EACTH,WAAYA,EACZU,gBAAgB,EAChBC,MAAOC,mBAAS,6BAChBC,SAAS,sBACTC,MAAM,SAEN,gBAAC,IAAD,CACIC,cAAe,CACXC,SAAU,IAEdC,SAAUV,EACVF,SAAUA,IAET,gBAAGa,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAcC,EAAzB,EAAyBA,QAASC,EAAlC,EAAkCA,OAAQC,EAA1C,EAA0CA,QAASC,EAAnD,EAAmDA,aAAcC,EAAjE,EAAiEA,WAAjE,OACG,gBAAC,IAAD,CAAMC,YAAU,GACZ,gBAAC,QAAMC,KAAP,KACI,gBAAC,oBAAD,CACIlB,UAAU,yBACVmB,sBAAsB,QACtBC,YAAaC,uBAEb,qBAAGrB,UAAU,wDACT,gBAAC,WAAD,CAAUsB,kBAAkB,gPAEhC,qBAAGtB,UAAU,wDACT,gBAAC,WAAD,CACIsB,kBAAkB,mEAClBC,WAAY,CAAC,qBAAGC,IAAK,EAAGxB,UAAU,OAAOyB,QAAS3B,QAI1D,uBAAKE,UAAU,6DAEf,qBAAGA,UAAU,mDACT,gBAAC,WAAD,CAAUsB,kBAAkB,sEAGhC,gBAAC5B,EAAD,CACImB,OAAQA,EACRC,QAASA,EACTJ,OAAQA,EACRK,aAAcA,EACdC,WAAYA,MAIxB,gBAAC,QAAMU,OAAP,CAAcC,eAAa,GACvB,gBAAC,mBAAD,CACI3B,UAAU,wBACV4B,YAAU,EACVC,aAAczB,mBAAS,WACvBgB,aAAcP,EAAOL,WAAaI,GAAWD,EAC7CmB,MAAO1B,mBAAS,oBAChB2B,SAAUnC,WAU1CL,EAAWyC,UAAY,CACnBxC,WAAYyC,IAAUC,KACtBzC,UAAWwC,IAAUC,KACrBxC,cAAeuC,IAAUC,KACzBvC,WAAYsC,IAAUE,KACtBvC,OAAQqC,IAAUC,KAClBrC,SAAUoC,IAAUC,KACpBpC,cAAemC,IAAUC,KACzBnC,aAAckC,IAAUC,MAGb3C,Q,qyCC9Ef,IAAM6C,EAAM,SAAC,GAAD,IAAGN,EAAH,EAAGA,MAAOO,EAAV,EAAUA,MAAV,OACR,uBAAKrC,UAAU,sBACX,4BAAO8B,GACP,8BAASO,KAIXC,EAAU,SAAC,GAAD,IAAGR,EAAH,EAAGA,MAAOO,EAAV,EAAUA,MAAV,OACZ,qBAAGrC,UAAU,uBACT,4BAAO8B,GACP,2BACA,8BAASO,KAIXE,EAAe,SAAC,GAYhB,IAXF/C,EAWE,EAXFA,WACAC,EAUE,EAVFA,UACAC,EASE,EATFA,cACAC,EAQE,EARFA,WACAC,EAOE,EAPFA,OACAC,EAME,EANFA,SACA2C,EAKE,EALFA,cACA1C,EAIE,EAJFA,cACA2C,EAGE,EAHFA,uBACAC,EAEE,EAFFA,YACA3C,EACE,EADFA,aACE,IAC2C4C,WAAe,IAD1D,GACKC,EADL,KACsBC,EADtB,KAGFF,aAAgB,WACZ,IAAMG,EAAaC,YAAYC,MAE/BC,IAAGC,eAAeC,MAAK,SAAAC,GACnB,IAAMC,EAAgBD,EAASC,cAC/B,GAAKA,EAAL,CAEA,IACMC,EADYP,YAAYC,MACCF,EACzBS,EAAeb,EAAYc,IAAIF,EAAY,gBAEjDT,E,+VAAkB,CAAD,CACbY,sBAAuBC,sBAAYH,GACnCI,gBAAiBC,EAAmBP,EAAcQ,WAAYN,EAAaO,QAC3EC,OAAQV,EAAcW,YAAcX,EAAcY,WAClDC,oBAAqBR,sBAAwC,KAA3BL,EAAcQ,YAChDM,SAAUd,EAAcW,YAAcX,EAAcY,YACjDZ,UAIZ,IAEH,IAAMO,EAAqB,SAACC,EAAYN,GACpC,IAAMa,EAAmBC,0BAAgBR,EAAYN,GAErD,OAAOnD,mBAAS,6DAA8D,CAC1EkE,QAASF,EAAiBG,IAAI,QAC9BC,SAAUJ,EAAiBG,IAAI,SAC/BE,WAAYL,EAAiBG,IAAI,cAIzC,OAAIG,wBAAc9B,GACP,gBAAC,UAAD,MAIP,gBAAC,QAAD,CACI5C,UAAU,gBACVP,UAAWA,EACXQ,QAASN,EACTH,WAAYA,EACZa,SAAS,sBACTH,gBAAgB,EAChBC,MACI,gBAAC,WAAD,KACI,gBAAC,iBAAD,KACI,gBAAC,WAAD,CACImB,kBAAkB,+CAClBT,OAAQ,CAAE8D,UAAW/B,EAAgBsB,wBAG7C,gBAAC,gBAAD,KACI,gBAAC,WAAD,CAAU5C,kBAAkB,mCAC5B,2BACCsB,EAAgBsB,sBAI7B5D,MAAOsE,qBAAa,QAAU,SAE9B,gBAAC,IAAD,CACIrE,cAAe,CACXC,SAAUiC,GAEdhC,SAAUV,EACVF,SAAUA,IAET,gBAAGa,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAcC,EAAzB,EAAyBA,QAASC,EAAlC,EAAkCA,OAAQC,EAA1C,EAA0CA,QAASC,EAAnD,EAAmDA,aAAcC,EAAjE,EAAiEA,WAAjE,OACG,gBAAC,IAAD,CAAMC,YAAU,GACZ,gBAAC,QAAMC,KAAP,KACI,gBAAC,mBAAD,CAAkB2D,OAAO,OAAOC,UAAU,EAAOC,YAAaH,sBAC1D,gBAAC,oBAAD,CACI5E,UAAU,gCACVoB,YAAaC,sBACbF,sBAAsB,SAEtB,uBAAKnB,UAAU,yBACX,uBAAKA,UAAU,iCACX,gBAAC,EAAD,CAAK8B,MAAO1B,mBAAS,YAAaiC,MAAOO,EAAgBoC,UACzD,gBAAC,EAAD,CAAKlD,MAAO1B,mBAAS,YAAaiC,MAAOO,EAAgBqC,WACzD,gBAAC,EAAD,CACInD,MAAO1B,mBAAS,YAChBiC,MACI,gBAAC,QAAD,CACI6C,OAAQtC,EAAgBuB,SACxBc,SAAUrC,EAAgBqC,aAItC,gBAAC,EAAD,CACInD,MAAO1B,mBAAS,eAChBiC,MACI,gBAAC,WAAD,OACOO,EAAgBmB,SACdnB,EAAgBmB,OAAS,EAAI,IAAM,KACxC,gBAAC,QAAD,CACImB,OAAQtC,EAAgBmB,OACxBkB,SAAUrC,EAAgBqC,cAK1C,gBAAC,EAAD,CACInD,MAAO1B,mBAAS,mBAChBiC,MAAOO,EAAgBuC,YAE3B,gBAAC,EAAD,CAAKrD,MAAO1B,mBAAS,iBAAkBiC,MAAOO,EAAgBwC,aAC9D,gBAAC,EAAD,CACItD,MAAO1B,mBAAS,oBAChBiC,MACI,gBAAC,QAAD,CACI6C,OAAQtC,EAAgByC,iBACxBJ,SAAUrC,EAAgBqC,cAK1C,gBAAC,SAAD,CACIK,KAAK,SACLC,WAAS,EACTC,OAAK,EACL/D,QACImB,EAAgB6C,oBAAsBjD,EAAgB1C,EAE1DE,UAAU,2DAETI,mBAAS,mBAIlB,gBAAC,gBAAD,KACI,uBAAKJ,UAAU,8BAGnB,uBAAKA,UAAU,yBACX,gBAAC,EAAD,CACI8B,MAAO1B,mBAAS,qBAChBiC,MAAOO,EAAgBe,kBAE3B,gBAAC,EAAD,CACI7B,MAAO1B,mBAAS,eAChBiC,MAAOO,EAAgBsB,sBAE3B,gBAAC,EAAD,CACIpC,MAAO1B,mBAAS,iBAChBiC,MAAOO,EAAgBa,wBAG3B,gBAAC,iBAAD,KACI,uBAAKzD,UAAU,8BAGnB,qBAAGA,UAAU,mDACT,gBAAC,WAAD,CAAUsB,kBAAkB,uDAGhC,gBAAC5B,EAAD,CACImB,OAAQA,EACRC,QAASA,EACTJ,OAAQA,EACRK,aAAcA,EACdC,WAAYA,QAMhC,gBAAC,QAAMU,OAAP,CAAcC,eAAa,GACvB,gBAAC,mBAAD,CACI3B,UAAU,wBACV4B,YAAU,EACVC,aAAczB,mBAAS,WACvBgB,aAAcP,EAAOL,WAAaI,GAAWD,EAC7CmB,MAAO1B,mBAAS,oBAChB2B,SAAUnC,WAU1C2C,EAAaP,UAAY,CACrBxC,WAAYyC,IAAUC,KACtBzC,UAAWwC,IAAUC,KACrBxC,cAAeuC,IAAUC,KACzBvC,WAAYsC,IAAUE,KACtBvC,OAAQqC,IAAUC,KAClBrC,SAAUoC,IAAUC,KACpBM,cAAeP,IAAUC,KACzBpC,cAAemC,IAAUC,KACzBO,uBAAwBR,IAAUyD,OAClChD,YAAaT,IAAU0D,OACvB5F,aAAckC,IAAUC,MAGbK,Q,+MC7Of,IAAM7C,EAAgB,SAAC,GAAD,IAAGmB,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAASJ,EAApB,EAAoBA,OAAQK,EAA5B,EAA4BA,aAAcC,EAA1C,EAA0CA,WAA1C,OAClB,uBAAKhB,UAAU,2BACX,gBAAC,IAAD,CAAO4F,KAAK,aACP,gBAAGC,EAAH,EAAGA,MAAH,OACG,gBAAC,QAAD,KACQA,EADR,CAEIC,gBAAc,OACdR,KAAK,OACLxD,MAAO1B,mBAAS,iBAChBiC,MAAOxB,EAAOL,SACduF,SAAUhF,EACViF,OAAQhF,EACRiF,KAAM7F,mBAAS,4CACf8F,UAAQ,EACRC,MAAOrF,EAAQN,UAAYE,EAAOF,SAClC4F,aAAa,MACbC,UAAU,YAOxBC,EAAoB,SAAC,GAWrB,IAVF9G,EAUE,EAVFA,WACAC,EASE,EATFA,UACA8G,EAQE,EARFA,aACA5G,EAOE,EAPFA,WACA6G,EAME,EANFA,wBACA/D,EAKE,EALFA,uBACAC,EAIE,EAJFA,YACA+D,EAGE,EAHFA,wBACAC,EAEE,EAFFA,mBACAC,EACE,EADFA,0BAEMC,EAAUC,uBASV/G,EAAgB,WAElB4G,EAAmB,GACnBE,EAAQE,KAAKC,SAAOC,WACpBL,EAA0B,IAGxB5G,EAAe,SAAAc,GACjB,IAAMsF,EAAQ,GAEd,GAAKtF,EAAOL,SAEL,OACwByG,sBAAYpG,EAAOL,SAAU,CAAE8E,KAAM,SAAU4B,IAAK,GAAIC,IAAK,KAAhFC,EADL,EACKA,MAAOC,EADZ,EACYA,QACVD,IAAOjB,EAAM3F,SAAW6G,QAH7BlB,EAAM3F,SAAWJ,mBAAS,2BAM9B,OAAO+F,GAGLtG,EAAW,SAAAgB,GACb8F,EAA0B,GAC1BF,EAAwB5F,EAAOL,WAMnC,OAAKgG,GAA2B/D,EAExB,gBAAC,EAAD,CACIjD,WAAYA,EACZC,UAAWA,EACXE,WAAYA,EACZ6C,cAzCU,WAElBkE,EAAmB,GACnBE,EAAQE,KAAKC,SAAOO,WACpBX,EAA0B,IAsClB7G,cAAeA,EACfC,aAAcA,EACdF,SAAUA,EACVD,OAAQ2G,EACR9D,uBAAwBA,EACxBC,YAAaA,EACbhD,cAAeA,IAMvB,gBAAC,EAAD,CACIF,WAAYA,EACZC,UAAWA,EACXE,WAAYA,EACZG,cAAeA,EACfC,aAAcA,EACdF,SAAUA,EACVD,OAAQ2G,EACR7G,cAAeA,KAK3B4G,EAAkBtE,UAAY,CAC1BxC,WAAYyC,IAAUC,KACtBzC,UAAWwC,IAAUC,KACrB0E,QAAS3E,IAAU0D,OACnBY,aAActE,IAAUC,KACxBvC,WAAYsC,IAAUE,KACtBqE,wBAAyBvE,IAAUE,KACnCM,uBAAwBR,IAAUyD,OAClCe,wBAAyBxE,IAAUC,KACnCwE,mBAAoBzE,IAAUC,KAC9ByE,0BAA2B1E,IAAUC,MAG1BqF,mBAAQ,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,OAAQC,EAAnB,EAAmBA,GAAnB,MAA6B,CAChDnB,aAAciB,EAAO5H,OACrBD,WAAY6H,EAAOG,yBACnBnB,wBAAyBgB,EAAOhB,wBAChC/D,uBAAwB+E,EAAO/E,uBAC/BgE,wBAAyBe,EAAOf,wBAChCE,0BAA2Ba,EAAOb,0BAClCjE,YAAa+E,EAAO/E,YACpBjD,UAAWiI,EAAGjI,UACdD,WAAYkI,EAAGlI,WACfkH,mBAAoBgB,EAAGhB,sBAVZa,CAWXjB","file":"js/core.reality-check-modal.470974e4858ad48522de.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Formik, Form } from 'formik';\nimport { Div100vhContainer, Modal, FormSubmitButton } from '@deriv/components';\nimport { isDesktop } from '@deriv/shared';\nimport { localize, Localize } from '@deriv/translations';\n\nconst BriefModal = ({\n    disableApp,\n    enableApp,\n    IntervalField,\n    is_visible,\n    logout,\n    onSubmit,\n    openStatement,\n    validateForm,\n}) => {\n    return (\n        <Modal\n            className='reality-check'\n            enableApp={enableApp}\n            is_open={is_visible}\n            disableApp={disableApp}\n            has_close_icon={false}\n            title={localize('Trading statistics report')}\n            portalId='modal_root_absolute'\n            width='720px'\n        >\n            <Formik\n                initialValues={{\n                    interval: '',\n                }}\n                validate={validateForm}\n                onSubmit={onSubmit}\n            >\n                {({ errors, isSubmitting, isValid, values, touched, handleChange, handleBlur }) => (\n                    <Form noValidate>\n                        <Modal.Body>\n                            <Div100vhContainer\n                                className='reality-check__wrapper'\n                                max_autoheight_offset='204px'\n                                is_disabled={isDesktop()}\n                            >\n                                <p className='reality-check__text reality-check__text--description'>\n                                    <Localize i18n_default_text='Options trading can become a real addiction, as can any other activity pushed to its limits. To avoid the danger of such an addiction, we provide a reality-check that gives you a summary of your trades and accounts on a regular basis.' />\n                                </p>\n                                <p className='reality-check__text reality-check__text--description'>\n                                    <Localize\n                                        i18n_default_text='Would like to check your statement first? <0>Check Statement</0>'\n                                        components={[<a key={0} className='link' onClick={openStatement} />]}\n                                    />\n                                </p>\n\n                                <div className='reality-check__separator reality-check__separator--large' />\n\n                                <p className='reality-check__text reality-check__text--center'>\n                                    <Localize i18n_default_text='Please specify your preferred interval reality check in minutes:' />\n                                </p>\n\n                                <IntervalField\n                                    values={values}\n                                    touched={touched}\n                                    errors={errors}\n                                    handleChange={handleChange}\n                                    handleBlur={handleBlur}\n                                />\n                            </Div100vhContainer>\n                        </Modal.Body>\n                        <Modal.Footer has_separator>\n                            <FormSubmitButton\n                                className='reality-check__submit'\n                                has_cancel\n                                cancel_label={localize('Log out')}\n                                is_disabled={!values.interval || !isValid || isSubmitting}\n                                label={localize('Continue trading')}\n                                onCancel={logout}\n                            />\n                        </Modal.Footer>\n                    </Form>\n                )}\n            </Formik>\n        </Modal>\n    );\n};\n\nBriefModal.propTypes = {\n    disableApp: PropTypes.func,\n    enableApp: PropTypes.func,\n    IntervalField: PropTypes.func,\n    is_visible: PropTypes.bool,\n    logout: PropTypes.func,\n    onSubmit: PropTypes.func,\n    openStatement: PropTypes.func,\n    validateForm: PropTypes.func,\n};\n\nexport default BriefModal;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Formik, Form } from 'formik';\nimport {\n    Modal,\n    DesktopWrapper,\n    MobileWrapper,\n    Div100vhContainer,\n    Loading,\n    ThemedScrollbars,\n    Money,\n    Button,\n    FormSubmitButton,\n} from '@deriv/components';\nimport { isDesktop, isEmptyObject, getDiffDuration, toGMTFormat, isMobile } from '@deriv/shared';\nimport { localize, Localize } from '@deriv/translations';\nimport { WS } from 'Services';\n\nconst Row = ({ label, value }) => (\n    <div className='reality-check__row'>\n        <span>{label}</span>\n        <strong>{value}</strong>\n    </div>\n);\n\nconst RowInfo = ({ label, value }) => (\n    <p className='reality-check__text'>\n        <span>{label}</span>\n        <br />\n        <strong>{value}</strong>\n    </p>\n);\n\nconst SummaryModal = ({\n    disableApp,\n    enableApp,\n    IntervalField,\n    is_visible,\n    logout,\n    onSubmit,\n    openPositions,\n    openStatement,\n    reality_check_duration,\n    server_time,\n    validateForm,\n}) => {\n    const [computed_values, setComputedValues] = React.useState({});\n\n    React.useEffect(() => {\n        const before_req = performance.now();\n\n        WS.realityCheck().then(response => {\n            const reality_check = response.reality_check;\n            if (!reality_check) return;\n\n            const after_req = performance.now();\n            const time_taken = after_req - before_req;\n            const current_time = server_time.add(time_taken, 'milliseconds');\n\n            setComputedValues({\n                current_date_time_gmt: toGMTFormat(current_time),\n                duration_string: getSessionDuration(reality_check.start_time, current_time.unix()),\n                profit: reality_check.sell_amount - reality_check.buy_amount,\n                start_date_time_gmt: toGMTFormat(+reality_check.start_time * 1000),\n                turnover: reality_check.sell_amount + reality_check.buy_amount,\n                ...reality_check,\n            });\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const getSessionDuration = (start_time, current_time) => {\n        const session_duration = getDiffDuration(start_time, current_time);\n\n        return localize('{{num_day}} days {{num_hour}} hours {{num_minute}} minutes', {\n            num_day: session_duration.get('days'),\n            num_hour: session_duration.get('hours'),\n            num_minute: session_duration.get('minutes'),\n        });\n    };\n\n    if (isEmptyObject(computed_values)) {\n        return <Loading />;\n    }\n\n    return (\n        <Modal\n            className='reality-check'\n            enableApp={enableApp}\n            is_open={is_visible}\n            disableApp={disableApp}\n            portalId='modal_root_absolute'\n            has_close_icon={false}\n            title={\n                <React.Fragment>\n                    <DesktopWrapper>\n                        <Localize\n                            i18n_default_text='Your trading statistics since: {{date_time}}'\n                            values={{ date_time: computed_values.start_date_time_gmt }}\n                        />\n                    </DesktopWrapper>\n                    <MobileWrapper>\n                        <Localize i18n_default_text='Your trading statistics since:' />\n                        <br />\n                        {computed_values.start_date_time_gmt}\n                    </MobileWrapper>\n                </React.Fragment>\n            }\n            width={isMobile() ? '304px' : '720px'}\n        >\n            <Formik\n                initialValues={{\n                    interval: reality_check_duration,\n                }}\n                validate={validateForm}\n                onSubmit={onSubmit}\n            >\n                {({ errors, isSubmitting, isValid, values, touched, handleChange, handleBlur }) => (\n                    <Form noValidate>\n                        <Modal.Body>\n                            <ThemedScrollbars height='75vh' autoHide={false} is_bypassed={isMobile()}>\n                                <Div100vhContainer\n                                    className='reality-check__column-wrapper'\n                                    is_disabled={isDesktop()}\n                                    max_autoheight_offset='204px'\n                                >\n                                    <div className='reality-check__column'>\n                                        <div className='reality-check__column-content'>\n                                            <Row label={localize('Login ID')} value={computed_values.loginid} />\n                                            <Row label={localize('Currency')} value={computed_values.currency} />\n                                            <Row\n                                                label={localize('Turnover')}\n                                                value={\n                                                    <Money\n                                                        amount={computed_values.turnover}\n                                                        currency={computed_values.currency}\n                                                    />\n                                                }\n                                            />\n                                            <Row\n                                                label={localize('Profit/loss')}\n                                                value={\n                                                    <React.Fragment>\n                                                        {!!computed_values.profit &&\n                                                            (computed_values.profit < 0 ? '-' : '+')}\n                                                        <Money\n                                                            amount={computed_values.profit}\n                                                            currency={computed_values.currency}\n                                                        />\n                                                    </React.Fragment>\n                                                }\n                                            />\n                                            <Row\n                                                label={localize('Contract bought')}\n                                                value={computed_values.buy_count}\n                                            />\n                                            <Row label={localize('Contract sold')} value={computed_values.sell_count} />\n                                            <Row\n                                                label={localize('Potential profit')}\n                                                value={\n                                                    <Money\n                                                        amount={computed_values.potential_profit}\n                                                        currency={computed_values.currency}\n                                                    />\n                                                }\n                                            />\n                                        </div>\n                                        <Button\n                                            type='button'\n                                            secondary\n                                            large\n                                            onClick={\n                                                computed_values.open_contract_count ? openPositions : openStatement\n                                            }\n                                            className='reality-check__button reality-check__button--full-width'\n                                        >\n                                            {localize('Go to Reports')}\n                                        </Button>\n                                    </div>\n\n                                    <MobileWrapper>\n                                        <div className='reality-check__separator' />\n                                    </MobileWrapper>\n\n                                    <div className='reality-check__column'>\n                                        <RowInfo\n                                            label={localize('Session duration:')}\n                                            value={computed_values.duration_string}\n                                        />\n                                        <RowInfo\n                                            label={localize('Login time:')}\n                                            value={computed_values.start_date_time_gmt}\n                                        />\n                                        <RowInfo\n                                            label={localize('Current time:')}\n                                            value={computed_values.current_date_time_gmt}\n                                        />\n\n                                        <DesktopWrapper>\n                                            <div className='reality-check__separator' />\n                                        </DesktopWrapper>\n\n                                        <p className='reality-check__text reality-check__text--center'>\n                                            <Localize i18n_default_text='Your preferred time interval between each report:' />\n                                        </p>\n\n                                        <IntervalField\n                                            values={values}\n                                            touched={touched}\n                                            errors={errors}\n                                            handleChange={handleChange}\n                                            handleBlur={handleBlur}\n                                        />\n                                    </div>\n                                </Div100vhContainer>\n                            </ThemedScrollbars>\n                        </Modal.Body>\n                        <Modal.Footer has_separator>\n                            <FormSubmitButton\n                                className='reality-check__submit'\n                                has_cancel\n                                cancel_label={localize('Log out')}\n                                is_disabled={!values.interval || !isValid || isSubmitting}\n                                label={localize('Continue trading')}\n                                onCancel={logout}\n                            />\n                        </Modal.Footer>\n                    </Form>\n                )}\n            </Formik>\n        </Modal>\n    );\n};\n\nSummaryModal.propTypes = {\n    disableApp: PropTypes.func,\n    enableApp: PropTypes.func,\n    IntervalField: PropTypes.func,\n    is_visible: PropTypes.bool,\n    logout: PropTypes.func,\n    onSubmit: PropTypes.func,\n    openPositions: PropTypes.func,\n    openStatement: PropTypes.func,\n    reality_check_duration: PropTypes.number,\n    server_time: PropTypes.object,\n    validateForm: PropTypes.func,\n};\n\nexport default SummaryModal;\n","import { Field } from 'formik';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Input } from '@deriv/components';\nimport { routes, validNumber } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { connect } from 'Stores/connect';\nimport BriefModal from './brief-modal.jsx';\nimport SummaryModal from './summary-modal.jsx';\n\nconst IntervalField = ({ values, touched, errors, handleChange, handleBlur }) => (\n    <div className='reality-check__fieldset'>\n        <Field name='interval'>\n            {({ field }) => (\n                <Input\n                    {...field}\n                    data-lpignore='true'\n                    type='text'\n                    label={localize('Time interval')}\n                    value={values.interval}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    hint={localize('Interval should be between 10-60 minutes')}\n                    required\n                    error={touched.interval && errors.interval}\n                    autoComplete='off'\n                    maxLength='2'\n                />\n            )}\n        </Field>\n    </div>\n);\n\nconst RealityCheckModal = ({\n    disableApp,\n    enableApp,\n    logoutClient,\n    is_visible,\n    reality_check_dismissed,\n    reality_check_duration,\n    server_time,\n    setRealityCheckDuration,\n    setReportsTabIndex,\n    setVisibilityRealityCheck,\n}) => {\n    const history = useHistory();\n\n    const openPositions = () => {\n        // index of open positions in reports' side menu is 0\n        setReportsTabIndex(0);\n        history.push(routes.positions);\n        setVisibilityRealityCheck(0);\n    };\n\n    const openStatement = () => {\n        // index of statement in reports' side menu is 2\n        setReportsTabIndex(2);\n        history.push(routes.statement);\n        setVisibilityRealityCheck(0);\n    };\n\n    const validateForm = values => {\n        const error = {};\n\n        if (!values.interval) {\n            error.interval = localize('This field is required.');\n        } else {\n            const { is_ok, message } = validNumber(values.interval, { type: 'number', min: 10, max: 60 });\n            if (!is_ok) error.interval = message;\n        }\n\n        return error;\n    };\n\n    const onSubmit = values => {\n        setVisibilityRealityCheck(0);\n        setRealityCheckDuration(values.interval);\n    };\n\n    // if user has seen the brief once and set\n    // the initial reality check interval\n    // we can show the summary from now on\n    if (!reality_check_dismissed && reality_check_duration) {\n        return (\n            <SummaryModal\n                disableApp={disableApp}\n                enableApp={enableApp}\n                is_visible={is_visible}\n                openPositions={openPositions}\n                openStatement={openStatement}\n                validateForm={validateForm}\n                onSubmit={onSubmit}\n                logout={logoutClient}\n                reality_check_duration={reality_check_duration}\n                server_time={server_time}\n                IntervalField={IntervalField}\n            />\n        );\n    }\n\n    return (\n        <BriefModal\n            disableApp={disableApp}\n            enableApp={enableApp}\n            is_visible={is_visible}\n            openStatement={openStatement}\n            validateForm={validateForm}\n            onSubmit={onSubmit}\n            logout={logoutClient}\n            IntervalField={IntervalField}\n        />\n    );\n};\n\nRealityCheckModal.propTypes = {\n    disableApp: PropTypes.func,\n    enableApp: PropTypes.func,\n    history: PropTypes.object,\n    logoutClient: PropTypes.func,\n    is_visible: PropTypes.bool,\n    reality_check_dismissed: PropTypes.bool,\n    reality_check_duration: PropTypes.number,\n    setRealityCheckDuration: PropTypes.func,\n    setReportsTabIndex: PropTypes.func,\n    setVisibilityRealityCheck: PropTypes.func,\n};\n\nexport default connect(({ client, common, ui }) => ({\n    logoutClient: client.logout,\n    is_visible: client.is_reality_check_visible,\n    reality_check_dismissed: client.reality_check_dismissed,\n    reality_check_duration: client.reality_check_duration,\n    setRealityCheckDuration: client.setRealityCheckDuration,\n    setVisibilityRealityCheck: client.setVisibilityRealityCheck,\n    server_time: common.server_time,\n    enableApp: ui.enableApp,\n    disableApp: ui.disableApp,\n    setReportsTabIndex: ui.setReportsTabIndex,\n}))(RealityCheckModal);\n"],"sourceRoot":""}