(window.webpackJsonp=window.webpackJsonp||[]).push([["account-info"],{687:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n.n(c),i=n(1),o=n.n(i),r=n(0),s=n(655),l=n(6),u=n(2),_=n(4),p=n(20),d=n(32),m=n(9),g=n(243),h=function(e){var t=e.currency;return e.is_virtual?r.createElement(u.Localize,{i18n_default_text:"Demo"}):t?Object(_.getCurrencyName)(t):r.createElement(u.Localize,{i18n_default_text:"No currency assigned"})},b=function(e){var t=e.account_type;return r.createElement("div",null,Object(_.getMT5AccountDisplay)(t))},f=function(e){var t=e.account_type,n=e.balance,c=e.currency,i=e.currency_icon,o=e.display_type,s=e.has_balance,p=e.has_reset_balance,d=e.is_eu,m=e.is_disabled,g=e.is_virtual,f=e.loginid,y=e.onClickAccount,v=e.onClickResetVirtualBalance,w=e.selected_loginid,E=r.useMemo((function(){return f.startsWith("MX")||f.startsWith("MLT")?Object(u.localize)("Synthetic"):f.startsWith("MF")?Object(u.localize)("Financial"):""}),[f]);if(m&&!c)return null;var A=c?i:"IcCurrencyUnknown";return r.createElement(r.Fragment,null,r.createElement("div",{id:"dt_".concat(f),className:a()("acc-switcher__account",{"acc-switcher__account--selected":f===w,"acc-switcher__account--disabled":m}),onClick:m?void 0:y},r.createElement("span",{className:"acc-switcher__id"},r.createElement(l.Icon,{icon:g?"IcCurrencyVirtual":A,className:"acc-switcher__id-icon",size:24}),r.createElement("span",null,"currency"===o?r.createElement(h,{is_virtual:g,currency:c,is_eu:d,market_type:E}):r.createElement(b,{account_type:t}),r.createElement("div",{className:"acc-switcher__loginid-text"},f)),p?r.createElement(l.Button,{is_disabled:m,onClick:function(e){e.stopPropagation(),v()},className:"acc-switcher__reset-account-btn",secondary:!0,small:!0},Object(u.localize)("Reset balance")):s&&r.createElement(l.Text,{size:"xs",color:"prominent",className:"acc-switcher__balance"},c&&r.createElement(l.Money,{currency:Object(_.getCurrencyDisplayCode)(c),amount:Object(_.formatMoney)(c,n,!0),should_format:!1,show_currency:!0})))))},y=function(e){var t=e.children,n=e.header,c=e.is_visible,a=e.toggleVisibility;return r.createElement(l.ContentExpander,{className:"acc-switcher",title:n,is_expanded:c,onToggle:a,is_title_spaced:!0},t)};y.propTypes={children:o.a.node,header:o.a.oneOfType([o.a.object,o.a.string]),is_visible:o.a.bool,toggleVisibility:o.a.func};var v=y;function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n,c,a,i,o){try{var r=e[i](o),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(c,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(c,a){var i=e.apply(t,n);function o(e){E(i,c,a,o,r,"next",e)}function r(e){E(i,c,a,o,r,"throw",e)}o(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],c=!0,a=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(c=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);c=!0);}catch(e){a=!0,i=e}finally{try{c||null==r.return||r.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function O(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=N(e);if(t){var a=N(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,e);var t,n,c,i,o=M(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).toggleVisibility=function(e){var n,c,a;t.setState((n={},c="is_".concat(e,"_visible"),a=!t.state["is_".concat(e,"_visible")],c in n?Object.defineProperty(n,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[c]=a,n))},t.setWrapperRef=function(e){t.wrapper_ref=e},t.updateAccountTabIndex=function(e){t.setState({active_tab_index:e})},t.handleClickOutside=function(e){var n=!e.target.classList.contains("acc-info");t.wrapper_ref&&!t.wrapper_ref.contains(e.target)&&t.props.is_visible&&n&&t.closeAccountsDialog()},t.handleLogout=function(){t.closeAccountsDialog(),t.props.is_positions_drawer_on&&t.props.togglePositionsDrawer(),t.props.logoutClient().then((function(){t.props.routeBackInApp(t.props.history)}))},t.closeAccountsDialog=function(){t.props.toggleAccountsDialog(!1)},t.redirectToMt5=function(e){t.closeAccountsDialog(),t.props.history.push("".concat(_.routes.mt5,"#").concat(e))},t.openMt5RealAccount=function(e){var n="synthetic"===e?t.props.has_malta_account:t.props.has_maltainvest_account;t.props.is_eu&&!n?(t.closeAccountsDialog(),t.props.openAccountNeededModal("synthetic"===e?t.props.standpoint.gaming_company:t.props.standpoint.financial_company,"synthetic"===e?Object(u.localize)("Deriv Synthetic"):Object(u.localize)("Deriv Financial"),"synthetic"===e?Object(u.localize)("DMT5 Synthetic"):Object(u.localize)("DMT5 Financial"))):(sessionStorage.setItem("open_mt5_account_type","real.".concat(e)),t.redirectToMt5Real())},t.redirectToMt5Real=function(){!t.props.is_logged_in||t.props.is_mt5_allowed?t.redirectToMt5("real"):window.open(Object(_.urlFor)("user/metatrader",{legacy:!0}))},t.onListEnter=function(){return t.setState({has_autohide:!1})},t.onListLeave=function(){return t.setState({has_autohide:!0})},t.openMt5DemoAccount=function(e){sessionStorage.setItem("open_mt5_account_type","demo.".concat(e)),t.redirectToMt5Demo()},t.redirectToMt5Demo=function(){t.redirectToMt5("demo")},t.setAccountCurrency=function(){t.closeAccountsDialog(),t.props.toggleSetCurrencyModal()},t.showAccountTypesModal=function(){t.closeAccountsDialog(),t.props.toggleAccountTypesModal(!0)},t.isDemo=function(e){return/^demo/.test(e.group)},t.isReal=function(e){return!t.isDemo(e)},t.getRemainingAccounts=function(e){var n=[{account_types:["svg","malta"],icon:"Synthetic",title:Object(u.localize)("Synthetic"),type:"synthetic",api_key:"mt_gaming_company.financial"},{account_types:["vanuatu","svg_standard","svg_financial","maltainvest_financial"],icon:"Financial",title:Object(u.localize)("Financial"),type:"financial",api_key:"mt_financial_company.financial"},{account_types:["labuan"],icon:"Financial STP",title:Object(u.localize)("Financial STP"),type:"financial_stp",api_key:"mt_financial_company.financial_stp"}];return e.forEach((function(e){var t=e.split(/[demo|real]_/)[1],c=n.findIndex((function(e){return e.account_types.indexOf(t)>-1}));n.splice(c,1)})),n.filter((function(e){var n,c,a=k(e.api_key.split("."),2),i=a[0],o=a[1];return!!(null===(n=t.props.landing_companies)||void 0===n||null===(c=n[i])||void 0===c?void 0:c[o])}))},t.resetBalance=A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.closeAccountsDialog(),t.props.resetVirtualBalance();case 2:case"end":return e.stop()}}),e)}))),t.state={active_tab_index:!e.is_virtual||e.should_show_real_accounts_list?0:1,is_demo_deriv_visible:!0,is_demo_dmt5_visible:!0,is_real_deriv_visible:!0,is_real_dmt5_visible:!0,has_autohide:!0},t}return t=s,(n=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),this.props.updateMt5LoginList()}},{key:"componentWillUnmount",value:function(){this.props.toggleShouldShowRealAccountsList(!1),document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"doSwitch",value:(i=A(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closeAccountsDialog(),this.props.account_loginid!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.props.switchAccount(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t=this;if(!this.props.is_logged_in)return!1;var n=this.props.is_mt5_allowed?Object(u.localize)("Total assets in your Deriv and DMT5 demo accounts."):Object(u.localize)("Total assets in your Deriv demo accounts."),c=this.props.is_mt5_allowed?Object(u.localize)("Total assets in your Deriv and DMT5 real accounts."):Object(u.localize)("Total assets in your Deriv real accounts."),i=this.is_real_account_tab?c:n,o=r.createElement("div",{className:"acc-switcher__list-wrapper"},r.createElement(v,{header:Object(u.localize)("Deriv Accounts"),is_visible:this.state.is_demo_deriv_visible,toggleVisibility:function(){t.toggleVisibility("demo_deriv")}},r.createElement("div",{className:"acc-switcher__accounts"},this.sorted_account_list.filter((function(e){return e.is_virtual})).map((function(e){return r.createElement(f,{key:e.loginid,balance:t.props.accounts[e.loginid].balance,currency:t.props.accounts[e.loginid].currency,currency_icon:"IcCurrency-".concat(e.icon),display_type:"currency",has_balance:"balance"in t.props.accounts[e.loginid],has_reset_balance:t.props.accounts[t.props.account_loginid].is_virtual,is_disabled:e.is_disabled,is_virtual:e.is_virtual,loginid:e.loginid,onClickAccount:e.is_disabled?void 0:t.doSwitch.bind(t,e.loginid),onClickResetVirtualBalance:t.resetBalance,selected_loginid:t.props.account_loginid})})))),this.props.is_mt5_allowed&&r.createElement(r.Fragment,null,r.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),r.createElement(v,{header:Object(u.localize)("DMT5 Accounts"),is_visible:this.state.is_demo_dmt5_visible,toggleVisibility:function(){t.toggleVisibility("demo_dmt5")}},this.props.is_loading_mt5?r.createElement("div",{className:"acc-switcher__accounts--is-loading"},r.createElement(g.b,{speed:3})):r.createElement(r.Fragment,null,!!this.demo_mt5.length&&r.createElement("div",{className:"acc-switcher__accounts"},this.demo_mt5.map((function(e){return r.createElement(f,{key:e.login,account_type:e.group,balance:e.balance,currency:e.currency,currency_icon:"IcMt5-".concat(Object(_.getMT5Account)(e.group)),has_balance:"balance"in e,loginid:e.display_login,onClickAccount:t.redirectToMt5Demo})}))),this.remaining_demo_mt5.map((function(e){return r.createElement("div",{key:e.title,className:"acc-switcher__new-account"},r.createElement(l.Icon,{icon:"IcMt5-".concat(e.icon),size:24}),r.createElement(l.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},e.title),r.createElement(l.Button,{onClick:function(){return t.openMt5DemoAccount(e.type)},className:"acc-switcher__new-account-btn",secondary:!0,small:!0},Object(u.localize)("Add")))})))))),s=r.createElement("div",{className:"acc-switcher__list-wrapper",onMouseEnter:this.onListEnter,onMouseLeave:this.onListLeave},r.createElement(r.Fragment,null,r.createElement(v,{header:Object(u.localize)("Deriv Accounts"),is_visible:this.state.is_real_deriv_visible,toggleVisibility:function(){t.toggleVisibility("real_deriv")}},r.createElement("div",{className:"acc-switcher__accounts"},this.sorted_account_list.filter((function(e){return!e.is_virtual})).map((function(e){return r.createElement(f,{key:e.loginid,balance:t.props.accounts[e.loginid].balance,currency:t.props.accounts[e.loginid].currency,currency_icon:"IcCurrency-".concat(e.icon),display_type:"currency",has_balance:"balance"in t.props.accounts[e.loginid],is_disabled:e.is_disabled,is_virtual:e.is_virtual,is_eu:t.props.is_eu,loginid:e.loginid,onClickAccount:e.is_disabled?void 0:t.doSwitch.bind(t,e.loginid),selected_loginid:t.props.account_loginid})}))),this.remaining_real_accounts.map((function(e,n){return r.createElement("div",{key:n,className:"acc-switcher__new-account"},r.createElement(l.Icon,{icon:"IcDeriv",size:24}),r.createElement(l.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},Object(d.b)(e,{account_residence:t.props.client_residence})),r.createElement(l.Button,{onClick:function(){return t.props.openRealAccountSignup(e)},className:"acc-switcher__new-account-btn",secondary:!0,small:!0},Object(u.localize)("Add")))})),!this.can_upgrade&&this.can_open_multi&&r.createElement(l.Button,{className:"acc-switcher__btn",secondary:!0,onClick:this.has_set_currency?function(){return t.props.openRealAccountSignup("manage")}:this.setAccountCurrency},this.props.has_fiat&&0===(null===(e=this.props.available_crypto_currencies)||void 0===e?void 0:e.length)?Object(u.localize)("Manage account"):Object(u.localize)("Add or manage account")))),this.props.is_mt5_allowed&&r.createElement(r.Fragment,null,r.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),r.createElement(v,{header:Object(u.localize)("DMT5 Accounts"),is_visible:this.state.is_real_dmt5_visible,toggleVisibility:function(){t.toggleVisibility("real_dmt5")}},this.props.is_loading_mt5?r.createElement("div",{className:"acc-switcher__accounts--is-loading"},r.createElement(g.b,{speed:3})):r.createElement(r.Fragment,null,!!this.real_mt5.length&&r.createElement("div",{className:"acc-switcher__accounts"},this.real_mt5.map((function(e){return r.createElement(f,{key:e.login,account_type:e.group,balance:e.balance,currency:e.currency,currency_icon:"IcMt5-".concat(Object(_.getMT5Account)(e.group)),has_balance:"balance"in e,loginid:e.display_login,onClickAccount:t.redirectToMt5Real})}))),this.remaining_real_mt5.map((function(e){return r.createElement("div",{key:e.title,className:a()("acc-switcher__new-account",{"acc-switcher__new-account--disabled":t.props.mt5_login_list_error})},r.createElement(l.Icon,{icon:"IcMt5-".concat(e.icon),size:24}),r.createElement(l.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},e.title),r.createElement(l.Button,{onClick:function(){return t.openMt5RealAccount(e.type)},className:"acc-switcher__new-account-btn",secondary:!0,small:!0,is_disabled:!t.props.is_eu&&!t.props.has_any_real_account||"financial_stp"===e.type&&(t.props.is_pending_authentication||t.has_required_credentials)||!!t.props.mt5_login_list_error},Object(u.localize)("Add")))}))))));return r.createElement("div",{className:"acc-switcher__list",ref:this.setWrapperRef},r.createElement(l.Tabs,{active_index:this.state.active_tab_index,className:"acc-switcher__list-tabs",onTabItemClick:this.updateAccountTabIndex,top:!0},r.createElement("div",{label:Object(u.localize)("Real")},r.createElement(l.DesktopWrapper,null,r.createElement(l.ThemedScrollbars,{height:"354px"},s)),r.createElement(l.MobileWrapper,null,r.createElement(l.Div100vhContainer,{className:"acc-switcher__list-container",max_autoheight_offset:"234px"},s))),r.createElement("div",{label:Object(u.localize)("Demo")},r.createElement(l.DesktopWrapper,null,r.createElement(l.ThemedScrollbars,{height:"354px"},o)),r.createElement(l.MobileWrapper,null,r.createElement(l.Div100vhContainer,{className:"acc-switcher__list-container",max_autoheight_offset:"234px"},o)))),r.createElement("div",{className:a()("acc-switcher__separator",{"acc-switcher__separator--auto-margin":this.props.is_mobile})}),r.createElement("div",{className:"acc-switcher__total"},r.createElement(l.Text,{line_height:"s",size:"xs",weight:"bold",color:"prominent"},r.createElement(u.Localize,{i18n_default_text:"Total assets"})),r.createElement(l.Text,{size:"xs",color:"prominent",className:"acc-switcher__balance"},r.createElement(l.Money,{currency:this.is_real_account_tab?this.props.obj_total_balance.currency:"USD",amount:Object(_.formatMoney)(this.is_real_account_tab?this.props.obj_total_balance.currency:"USD",this.is_real_account_tab?this.total_real_assets:this.total_demo_assets,!0),show_currency:!0,should_format:!1}))),r.createElement(l.Text,{color:"less-prominent",line_height:"s",size:"xxxs",className:"acc-switcher__total-subtitle"},i),r.createElement("div",{className:"acc-switcher__separator"}),r.createElement("div",{className:"acc-switcher__footer"},this.props.is_uk&&this.props.has_any_real_account&&r.createElement(l.Button,{className:"acc-switcher__compare",type:"button",has_effect:!0,onClick:this.showAccountTypesModal,text:Object(u.localize)("Compare"),secondary:!0}),r.createElement("div",{id:"dt_logout_button",className:"acc-switcher__logout",onClick:this.handleLogout},r.createElement(l.Text,{color:"prominent",size:"xs",align:"left",className:"acc-switcher__logout-text"},Object(u.localize)("Log out")),r.createElement(l.Icon,{icon:"IcLogout",className:"acc-switcher__logout-icon drawer__icon",onClick:this.handleLogout}))))}},{key:"is_real_account_tab",get:function(){return 0===this.state.active_tab_index}},{key:"has_required_credentials",get:function(){if(!this.props.account_settings)return!1;var e=this.props.account_settings,t=e.citizen,n=e.tax_identification_number,c=e.tax_residence;return!!(t&&n&&c)}},{key:"sorted_account_list",get:function(){var e=this;return this.props.account_list.slice().sort((function(t,n){var c=e.props.accounts[t.loginid].currency,a=e.props.accounts[n.loginid].currency,i=Object(_.isCryptocurrency)(c),o=Object(_.isCryptocurrency)(a),r=!i,s=!o;return t.is_virtual||n.is_virtual?t.is_virtual?1:-1:i&&o||r&&s?c<a?-1:1:r&&o?-1:1}))}},{key:"sorted_mt5_list",get:function(){return this.props.mt5_login_list.slice().sort((function(e,t){return/demo/.test(e.group)&&!/demo/.test(t.group)?1:/demo/.test(t.group)&&!/demo/.test(e.group)||/svg$/.test(e.group)?-1:/vanuatu|svg_(standard|financial)/.test(e.group)?/svg$/.test(t.group)?1:-1:1}))}},{key:"demo_mt5",get:function(){return this.sorted_mt5_list.filter(this.isDemo)}},{key:"remaining_demo_mt5",get:function(){var e=this,t=Object.keys(this.demo_mt5).map((function(t){return e.demo_mt5[t].group}));return this.getRemainingAccounts(t)}},{key:"real_mt5",get:function(){return this.sorted_mt5_list.filter(this.isReal)}},{key:"remaining_real_mt5",get:function(){var e=this,t=Object.keys(this.real_mt5).map((function(t){return e.real_mt5[t].group}));return this.getRemainingAccounts(t)}},{key:"remaining_real_accounts",get:function(){return this.can_open_multi?[]:this.props.upgradeable_landing_companies}},{key:"has_set_currency",get:function(){return this.props.account_list.filter((function(e){return!e.is_virtual})).some((function(e){return"Real"!==e.title}))}},{key:"can_upgrade",get:function(){return!(!this.props.is_virtual||!this.props.can_upgrade_to)}},{key:"can_open_multi",get:function(){return!this.props.is_eu&&(this.props.available_crypto_currencies.length<1&&!this.props.has_fiat||!this.props.is_virtual)}},{key:"total_demo_assets",get:function(){var e=this.props.account_list.find((function(e){return e.is_virtual})).loginid,t=this.props.accounts[e]?this.props.accounts[e].balance:0,n=this.props.mt5_login_list.filter((function(e){return/^demo/.test(e.group)})).reduce((function(e,t){return e.balance+=t.balance,e}),{balance:0});return Array.isArray(this.props.mt5_login_list)?n.balance+t:t}},{key:"total_real_assets",get:function(){return this.props.obj_total_balance.amount_real+this.props.obj_total_balance.amount_mt5}}])&&O(t.prototype,n),c&&O(t,c),s}(r.Component);T.propTypes={available_crypto_currencies:o.a.array,account_list:o.a.array,account_loginid:o.a.string,accounts:o.a.object,can_change_fiat_currency:o.a.bool,can_upgrade_to:o.a.string,has_fiat:o.a.bool,has_any_real_account:o.a.bool,is_eu:o.a.bool,is_loading_mt5:o.a.bool,is_logged_in:o.a.bool,is_mt5_allowed:o.a.bool,is_pending_authentication:o.a.bool,is_positions_drawer_on:o.a.bool,is_uk:o.a.bool,is_virtual:o.a.bool,is_visible:o.a.bool,logoutClient:o.a.func,mt5_login_list:o.a.array,obj_total_balance:o.a.object,openRealAccountSignup:o.a.func,switchAccount:o.a.func,resetVirtualBalance:o.a.func,toggleAccountsDialog:o.a.func,toggleAccountTypesModal:o.a.func,togglePositionsDrawer:o.a.func,toggleSetCurrencyModal:o.a.func,updateMt5LoginList:o.a.func};var C=Object(p.withRouter)(Object(m.b)((function(e){var t=e.client,n=e.common,c=e.ui;return{available_crypto_currencies:t.available_crypto_currencies,account_loginid:t.loginid,accounts:t.accounts,account_settings:t.account_settings,can_change_fiat_currency:t.can_change_fiat_currency,account_list:t.account_list,can_upgrade_to:t.can_upgrade_to,client_residence:t.residence,is_eu:t.is_eu,is_loading_mt5:t.is_populating_mt5_account_list,is_logged_in:t.is_logged_in,is_mt5_allowed:t.is_mt5_allowed,is_pending_authentication:t.is_pending_authentication,is_uk:t.is_uk,is_virtual:t.is_virtual,has_fiat:t.has_fiat,has_any_real_account:t.has_any_real_account,mt5_login_list:t.mt5_login_list,mt5_login_list_error:t.mt5_login_list_error,obj_total_balance:t.obj_total_balance,switchAccount:t.switchAccount,resetVirtualBalance:t.resetVirtualBalance,has_malta_account:t.has_malta_account,has_maltainvest_account:t.has_maltainvest_account,openAccountNeededModal:c.openAccountNeededModal,logoutClient:t.logout,landing_companies:t.landing_companies,upgradeable_landing_companies:t.upgradeable_landing_companies,updateMt5LoginList:t.updateMt5LoginList,routeBackInApp:n.routeBackInApp,standpoint:t.standpoint,is_positions_drawer_on:c.is_positions_drawer_on,openRealAccountSignup:c.openRealAccountSignup,toggleAccountsDialog:c.toggleAccountsDialog,toggleAccountTypesModal:c.toggleAccountTypesModal,togglePositionsDrawer:c.togglePositionsDrawer,toggleSetCurrencyModal:c.toggleSetCurrencyModal,should_show_real_accounts_list:c.should_show_real_accounts_list,toggleShouldShowRealAccountsList:c.toggleShouldShowRealAccountsList}}))(T)),S=function(e){var t=e.disableApp,n=e.enableApp,c=e.is_visible,i=e.is_upgrade_enabled,o=e.toggle;return r.createElement(l.Modal,{id:"dt_account_switcher_modal",className:"accounts-switcher",enableApp:n,is_open:c,is_vertical_top:!0,disableApp:t,has_close_icon:!1,toggleModal:o,height:"auto",width:"calc(100vw - 32px)"},r.createElement(l.Div100vhContainer,{className:a()("acc-switcher__wrapper","acc-switcher__wrapper--is-mobile"),max_autoheight_offset:"48px"},r.createElement(C,{is_mobile:!0,is_visible:!0,toggle:o,is_upgrade_enabled:i})))};S.propTypes={children:o.a.any,onClose:o.a.func,title:o.a.string,visible:o.a.bool,wrapperClassName:o.a.string};var z=S,R=function(e){var t=e.is_disabled,n=e.disabled_message,c=e.children;return t&&n?r.createElement(l.Popover,{alignment:"bottom",message:n,zIndex:99999},c):r.createElement(r.Fragment,null,c)},I=function(e){var t=e.is_virtual,n=e.currency;return r.createElement(l.Icon,{icon:"IcCurrency-".concat(t?"virtual":n||"Unknown"),className:"acc-info__id-icon acc-info__id-icon--".concat(t?"virtual":n),size:24})},L=function(e){var t=e.acc_switcher_disabled_message,n=e.balance,c=e.currency,i=e.disableApp,o=e.enableApp,p=e.is_dialog_on,d=e.is_virtual,m=e.toggleDialog,g=e.is_disabled,h=c.toLowerCase();return r.createElement("div",{className:"acc-info__wrapper"},r.createElement("div",{className:"acc-info__separator"}),r.createElement(R,{is_disabled:g,disabled_message:t},r.createElement("div",{className:a()("acc-info",{"acc-info--show":p,"acc-info--is-virtual":d,"acc-info--is-disabled":g}),onClick:g?void 0:function(){return m()}},r.createElement("span",{className:"acc-info__id"},r.createElement(l.DesktopWrapper,null,r.createElement(I,{is_virtual:d,currency:h})),r.createElement(l.MobileWrapper,null,(d||c)&&r.createElement(I,{is_virtual:d,currency:h}))),(void 0!==n||!c)&&r.createElement("p",{className:a()("acc-info__balance",{"acc-info__balance--no-currency":!c&&!d})},c?"".concat(n," ").concat(Object(_.getCurrencyDisplayCode)(c)):r.createElement(u.Localize,{i18n_default_text:"No currency assigned"})),g?r.createElement(l.Icon,{icon:"IcLock"}):r.createElement(l.Icon,{icon:"IcChevronDownBold",className:"acc-info__select-arrow"}))),r.createElement(l.MobileWrapper,null,r.createElement(z,{is_visible:p,disableApp:i,enableApp:o,toggle:m})),r.createElement(l.DesktopWrapper,null,r.createElement(s.a,{in:p,timeout:200,classNames:{enter:"acc-switcher__wrapper--enter",enterDone:"acc-switcher__wrapper--enter-done",exit:"acc-switcher__wrapper--exit"},unmountOnExit:!0},r.createElement("div",{className:"acc-switcher__wrapper"},r.createElement(C,{is_visible:p,toggle:m})))))};L.propTypes={acc_switcher_disabled_message:o.a.string,account_type:o.a.string,balance:o.a.string,currency:o.a.string,is_dialog_on:o.a.bool,is_disabled:o.a.bool,is_virtual:o.a.bool,loginid:o.a.string,toggleDialog:o.a.func};t.default=L}}]);
//# sourceMappingURL=core.account-info.f02db171eb2a79527f14.js.map