(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["screen-small"],{"./Modules/Trading/Components/Form/screen-small.jsx":function(e,t,r){"use strict";r.r(t);var n=r("../node_modules/prop-types/index.js"),a=r.n(n),o=r("react"),i=r("@deriv/components"),l=r("./App/Components/Elements/ContentLoader/index.js"),u=r("../node_modules/classnames/index.js"),s=r.n(u),c=r("@deriv/translations"),d=r("./Stores/connect.js"),_=function(e){var t=e.onChange,r=e.is_allow_equal,n=e.className;return o.createElement("div",{className:s()("allow-equals","mobile-widget",n)},o.createElement(i.Checkbox,{label:Object(c.localize)("Equals"),value:r,name:"is_equal",onChange:function(e){e.persist();var r=e.target,n=r.name,a=r.checked;t({target:{name:n,value:Number(a)}})}}),o.createElement("p",{className:"allow-equals__subtitle"},o.createElement(c.Localize,{i18n_default_text:"Win payout if exit spot is also equal to entry spot."})))};_.propTypes={is_allow_equal:a.a.bool,onChange:a.a.func};var m=Object(d.b)((function(e){var t=e.modules;return{is_allow_equal:!!t.trade.is_equal,onChange:t.trade.onChange}}))(_),p=r("./Stores/Modules/Trading/Helpers/allow-equals.js"),f=r("@deriv/shared"),b=r("./Modules/Trading/Components/Form/TradeParams/Multiplier/stop-loss.jsx"),y=r("./Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.jsx"),v=r("./Stores/Modules/Contract/Helpers/multiplier.js"),h=r("./App/Components/Form/fieldset.jsx");function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=Object(d.b)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading,should_show_cancellation_warning:t.should_show_cancellation_warning,toggleCancellationWarning:t.toggleCancellationWarning}}))((function(e){var t=e.disableApp,r=e.enableApp,n=e.is_visible,a=e.onConfirm,l=e.onCancel,u=e.should_show_cancellation_warning,s=e.toggleCancellationWarning;return o.createElement(i.Dialog,{className:"trade-params__multiplier-deal-cancellation-dialog",title:Object(c.localize)("About deal cancellation"),confirm_button_text:Object(c.localize)("Got it"),cancel_button_text:Object(c.localize)("Cancel"),onConfirm:a,onCancel:l,is_mobile_full_width:!1,is_visible:n,disableApp:t,enableApp:r,portal_element_id:"modal_root"},o.createElement(c.Localize,{i18n_default_text:"Take profit and/or stop loss are not available while deal cancellation is active."}),o.createElement(i.Checkbox,{defaultChecked:!u,onChange:function(){return s()},name:"should_show_cancellation_warning",label:Object(c.localize)("Don't show this again")}))})),j=Object(d.b)((function(e){var t=e.ui;return{cancellation_range_list:e.modules.trade.cancellation_range_list,should_show_cancellation_warning:t.should_show_cancellation_warning}}))((function(e){var t=e.has_cancellation,r=e.has_take_profit,n=e.has_stop_loss,a=e.onChangeMultiple,l=e.cancellation_duration,u=e.cancellation_range_list,s=e.should_show_cancellation_warning,d=g(o.useState(!1),2),_=d[0],m=d[1];return o.createElement(o.Fragment,null,o.createElement(O,{is_visible:_,onCancel:function(){return m(!1)},onConfirm:function(){m(!1),Object(v.b)({has_cancellation:t,onChangeMultiple:a})}}),o.createElement(h.a,{className:"trade-container__fieldset"},o.createElement("div",{className:"input-wrapper--inline"},o.createElement(i.Checkbox,{id:"dt_cancellation-checkbox_input",onChange:function(){var e;(e=(r||n)&&s)&&m(e),e||Object(v.b)({has_cancellation:t,onChangeMultiple:a})},name:"has_cancellation",label:Object(c.localize)("Deal cancellation"),defaultChecked:t}),o.createElement(i.Popover,{alignment:"left",icon:"info",id:"dt_multiplier-stake__tooltip",classNameBubble:"trade-container__deal-cancellation-popover",zIndex:9999,message:Object(c.localize)("Cancel your trade anytime within a chosen time-frame. Triggered automatically if your trade reaches the stop out level within the chosen time-frame.")})),t&&o.createElement(o.Fragment,null,o.createElement(i.RadioGroup,{className:"trade-params__multiplier-radio-group",name:"trade-params__multiplier-radio",items:u.map((function(e){var t=e.text;return{id:t,label:t,value:e.value.toString()}})),selected:l,onToggle:function(e){return Object(v.a)({event:e,onChangeMultiple:a})}}))))}));function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=Object(d.b)((function(e){var t=e.modules;return{take_profit:t.trade.take_profit,has_take_profit:t.trade.has_take_profit,stop_loss:t.trade.stop_loss,has_stop_loss:t.trade.has_stop_loss,has_cancellation:t.trade.has_cancellation,cancellation_duration:t.trade.cancellation_duration,onChangeMultiple:t.trade.onChangeMultiple}}))((function(e){var t,r,n=e.is_open,a=e.onClose,l=e.take_profit,u=e.stop_loss,s=e.has_take_profit,d=e.has_stop_loss,_=e.has_cancellation,m=e.cancellation_duration,p=e.onChangeMultiple,v=e.toggleDialog,h={take_profit:l,stop_loss:u,has_take_profit:s,has_stop_loss:d,has_cancellation:_,cancellation_duration:m},g=k(o.useState(h),2),E=g[0],O=g[1],w=k(o.useState({}),2),S=w[0],A=w[1],C=function(e){var t=["has_take_profit","has_stop_loss","has_cancellation",e.has_take_profit&&"take_profit",e.has_stop_loss&&"stop_loss",e.has_cancellation&&"cancellation_duration"];return Object(f.pick)(e,t)},M=function(e){A({take_profit:e.has_take_profit&&!e.take_profit?[Object(c.localize)("Please enter a take profit amount.")]:[],stop_loss:e.has_stop_loss&&!e.stop_loss?[Object(c.localize)("Please enter a stop loss amount.")]:[]})},T=function(e){var t=e.target,r=t.name,n=t.value,a=x({},E);a[r]=n,O(a),M(a)},N=function(e){var t=x({},E);Object.assign(t,e),O(t),M(t)};return o.createElement(o.Fragment,null,o.createElement(i.MobileDialog,{portal_element_id:"modal_root",visible:n,has_content_scroll:!0,onClose:function(){O(h),a.apply(void 0,arguments)}},o.createElement(i.Div100vhContainer,{className:"trade-params__multiplier-risk-management-dialog",height_offset:"60px"},o.createElement(y.a,{take_profit:E.take_profit,has_take_profit:E.has_take_profit,onChange:T,onChangeMultiple:N,validation_errors:S}),o.createElement(b.a,{stop_loss:E.stop_loss,has_stop_loss:E.has_stop_loss,onChange:T,onChangeMultiple:N,validation_errors:S}),o.createElement(j,{has_take_profit:E.has_take_profit,has_stop_loss:E.has_stop_loss,has_cancellation:E.has_cancellation,cancellation_duration:E.cancellation_duration,onChangeMultiple:N}),o.createElement("div",{className:"trade-params__multiplier-risk-management-dialog-apply-button"},o.createElement(i.Button,{text:Object(c.localize)("Apply"),onClick:function(){p(E),v()},primary:!0,is_disabled:(null===(t=S.take_profit)||void 0===t?void 0:t.length)>0||(null===(r=S.stop_loss)||void 0===r?void 0:r.length)>0||Object(f.isDeepEqual)(C(E),C(h))})))))}));function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=Object(d.b)((function(e){var t=e.modules;return{currency:t.trade.currency,stop_loss:t.trade.stop_loss,has_stop_loss:t.trade.has_stop_loss,take_profit:t.trade.take_profit,has_take_profit:t.trade.has_take_profit,cancellation_duration:t.trade.cancellation_duration,cancellation_range_list:t.trade.cancellation_range_list,has_cancellation:t.trade.has_cancellation}}))((function(e){var t,r=e.currency,n=e.stop_loss,a=e.take_profit,l=e.has_take_profit,u=e.has_stop_loss,s=e.cancellation_duration,d=e.cancellation_range_list,_=e.has_cancellation,m=M(o.useState(!1),2),p=m[0],f=m[1],b=l||u||_,y=null===(t=d.find((function(e){return e.value===s})))||void 0===t?void 0:t.text;return o.createElement(o.Fragment,null,o.createElement(C,{is_open:p,toggleDialog:function(){f(!p)},onClose:function(){return f(!1)}}),o.createElement("div",{className:"mobile-widget mobile-widget__multiplier-risk-management",onClick:function(){return f(!p)}},!b&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Risk management")),o.createElement("div",{className:"mobile-widget__item-value"},Object(c.localize)("Not set"))),l&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Take profit")),o.createElement("div",{className:"mobile-widget__item-value"},o.createElement(i.Money,{amount:a,currency:r,show_currency:!0}))),u&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Stop loss")),o.createElement("div",{className:"mobile-widget__item-value"},o.createElement(i.Money,{amount:n,currency:r,show_currency:!0}))),_&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Deal Cancellation")),o.createElement("div",{className:"mobile-widget__item-value"},y))))})),D=r("./Stores/Modules/Trading/Helpers/duration.js"),I=r("./Stores/Modules/Trading/Constants/contract.js"),P=Object(d.b)((function(e){var t=e.modules,r=e.client,n=e.ui;return{onChangeMultiple:t.trade.onChangeMultiple,trade_amount:t.trade.amount,trade_basis:t.trade.basis,trade_duration_unit:t.trade.duration_unit,trade_duration:t.trade.duration,currency:r.currency,addToast:n.addToast}}))((function(e){var t=e.addToast,r=e.duration_unit,n=e.duration_value,a=e.toggleModal,l=e.basis,u=e.has_duration_error,s=e.selected_basis,d=e.setSelectedAmount,_=e.onChangeMultiple,m=e.currency,p=e.trade_amount,b=e.trade_basis,y=e.trade_duration,v=e.trade_duration_unit,h=e.setAmountError,g=Object(f.getDecimalPlaces)(m),E=Number("0").toFixed(Object(f.getDecimalPlaces)(m)),O=parseFloat(E.toString().replace(/.$/,"1")),j=function(e){var r=o.createElement(c.Localize,{i18n_default_text:"Should not be 0 or empty"}),n=parseFloat(e.toString());return"0."===e.toString()||0===n?(t({key:"amount_error",content:r,type:"error",timeout:2e3}),h(!0),"error"):isNaN(n)||n<O||e.toString().length<1?(t({key:"amount_error",content:r,type:"error",timeout:2e3}),h(!0),!1):(h(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(i.Numpad,{value:s,format:function(e){return isNaN(e)||""===e?e:Number(e).toFixed(g)},onSubmit:function(e){var t={};r===v||u||(t.duration_unit=r),n===y||u||(t.duration=n),e===p&&l===b||(t.basis=l,t.amount=e),Object(f.isEmptyObject)(t)||_(t),a()},currency:m,min:O,is_currency:!0,render:function(e){var t=e.value,r=e.className;return o.createElement("div",{className:r},parseFloat(t)>0?o.createElement(i.Money,{currency:m,amount:t,should_format:!1}):t)},reset_press_interval:450,reset_value:"",pip_size:g,onValidate:j,submit_label:Object(c.localize)("OK"),onValueChange:function(e){d(l,e),j(e)}}))})),z=Object(d.b)((function(e){var t=e.modules;return{basis:t.trade.basis,basis_list:t.trade.basis_list,onChangeMultiple:t.trade.onChangeMultiple}}))((function(e){var t=e.toggleModal,r=e.basis_list,n=e.basis,a=e.duration_value,l=e.duration_unit,u=e.has_duration_error,s=e.amount_tab_idx,c=e.setAmountError,d=e.setAmountTabIdx,_=e.setSelectedAmount,m=e.stake_value,p=e.payout_value,f=void 0!==s?s:r.findIndex((function(e){return e.value===n}));return 1===r.length?o.createElement(P,{toggleModal:t,duration_value:a,duration_unit:l,has_duration_error:u,basis:r[0].value,setAmountError:c,selected_basis:"stake"===r[0].value?m:p,setSelectedAmount:_}):o.createElement("div",null,o.createElement(i.Tabs,{active_index:f,onTabItemClick:d,top:!0},r.map((function(e){switch(e.value){case"stake":return o.createElement("div",{label:e.text,key:e.value},o.createElement(P,{toggleModal:t,duration_value:a,duration_unit:l,has_duration_error:u,basis:e.value,setAmountError:c,selected_basis:m,setSelectedAmount:_}));case"payout":return o.createElement("div",{label:e.text,key:e.value},o.createElement(P,{toggleModal:t,duration_value:a,duration_unit:l,has_duration_error:u,basis:e.value,setAmountError:c,selected_basis:p,setSelectedAmount:_}));default:return null}}))))}));function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=Object(d.b)((function(e){var t=e.client,r=e.modules,n=e.ui;return{amount:r.trade.amount,form_components:r.trade.form_components,currency:t.currency,duration:r.trade.duration,duration_unit:r.trade.duration_unit,duration_units_list:r.trade.duration_units_list,expiry_type:r.trade.expiry_type,enableApp:n.enableApp,disableApp:n.disableApp}}))((function(e){var t=e.is_open,r=e.enableApp,n=e.disableApp,a=e.toggleModal,l=function(e){e.touches.length>1&&(e.preventDefault(),e.stopPropagation())};return o.useEffect((function(){return document.addEventListener("touchstart",(function(e){return l(e)}),{passive:!1}),function(){document.removeEventListener("touchstart",(function(e){return l(e)}))}}),[l]),o.createElement(o.Fragment,null,o.createElement(i.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:r,is_open:t,is_title_centered:!0,disableApp:n,toggleModal:a,height:"auto",width:"calc(100vw - 32px)",title:Object(c.localize)("Stake")},o.createElement(i.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},o.createElement(L,{toggleModal:a}))))})),L=Object(d.b)((function(e){var t=e.ui,r=e.modules;return{amount:r.trade.amount,currency:r.trade.currency,multiplier:r.trade.multiplier,multiplier_range_list:r.trade.multiplier_range_list,onChange:r.trade.onChange,addToast:t.addToast}}))((function(e){var t=e.amount,r=e.currency,n=e.toggleModal,a=R(o.useState(t),2),l=a[0],u=a[1];return o.createElement(o.Fragment,null,o.createElement("div",{className:"trade-params__multiplier-icinfo-wrapper"},o.createElement(i.Popover,{alignment:"top",icon:"info",id:"dt_multiplier-stake__tooltip",zIndex:9999,message:o.createElement(c.Localize,{i18n_default_text:"To ensure your loss does not exceed your stake, your contract will be closed automatically when your loss equals to <0/>.",components:[o.createElement(i.Money,{key:0,amount:l,currency:r})]})})),o.createElement(z,{toggleModal:n,amount_tab_idx:0,setSelectedAmount:function(e,t){u(t)},setAmountError:function(){},stake_value:l}))})),U=Object(d.b)((function(e){var t=e.client,r=e.modules,n=e.ui;return{amount:r.trade.amount,currency:t.currency,duration:r.trade.duration,duration_unit:r.trade.duration_unit,duration_units_list:r.trade.duration_units_list,expiry_type:r.trade.expiry_type,enableApp:n.enableApp,disableApp:n.disableApp}}))((function(e){var t=e.is_open,r=e.enableApp,n=e.disableApp,a=e.toggleModal,l=function(e){e.touches.length>1&&(e.preventDefault(),e.stopPropagation())};return o.useEffect((function(){return document.addEventListener("touchstart",(function(e){return l(e)}),{passive:!1}),function(){document.removeEventListener("touchstart",(function(e){return l(e)}))}}),[l]),o.createElement(o.Fragment,null,o.createElement(i.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:r,is_open:t,is_title_centered:!0,disableApp:n,toggleModal:a,height:"auto",width:"calc(100vw - 32px)",title:Object(c.localize)("Multiplier")},o.createElement(i.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},o.createElement(W,{toggleModal:a}))))})),W=Object(d.b)((function(e){var t=e.ui,r=e.modules;return{multiplier:r.trade.multiplier,multiplier_range_list:r.trade.multiplier_range_list,onChange:r.trade.onChange,addToast:t.addToast}}))((function(e){var t=e.multiplier,r=e.multiplier_range_list,n=e.onChange,a=e.toggleModal;return o.createElement(o.Fragment,null,o.createElement("div",{className:"trade-params__multiplier-icinfo-wrapper"},o.createElement(i.Popover,{alignment:"top",icon:"info",id:"dt_multiplier-stake__tooltip",zIndex:9999,message:Object(c.localize)("Your profit is the percentage change in market price times your stake and the multiplier chosen here.")})),o.createElement(i.RadioGroup,{className:"trade-params__multiplier-radio-group",name:"trade-params__multiplier-radio",items:r.map((function(e){var t=e.text;return{id:t,label:t,value:e.value.toString()}})),selected:Number.isNaN(t)?"":t.toString(),onToggle:function(e){n({target:{name:"multiplier",value:Number(e.target.value)}}),a()}}))}));function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H=Object(d.b)((function(e){var t=e.modules;return{amount:t.trade.amount,currency:t.trade.currency,multiplier:t.trade.multiplier}}))((function(e){var t=e.amount,r=e.currency,n=V(o.useState(!1),2),a=n[0],l=n[1],u=function(){l(!a)};return o.createElement(o.Fragment,null,o.createElement(q,{is_open:a,toggleModal:u}),o.createElement("div",{className:"mobile-widget mobile-widget__multiplier-amount",onClick:u},o.createElement("div",{className:"mobile-widget__item"},o.createElement("span",{className:"mobile-widget__item-value"},o.createElement(i.Money,{amount:t,currency:r,show_currency:!0})))))})),B=Object(d.b)((function(e){var t=e.modules,r=e.ui;return{currency:t.trade.currency,multiplier:t.trade.multiplier,commission:t.trade.commission,addToast:r.addToast}}))((function(e){var t=e.commission,r=e.currency,n=e.multiplier,a=V(o.useState(!1),2),l=a[0],u=a[1],s=function(){u(!l)};return o.createElement(o.Fragment,null,o.createElement(U,{is_open:l,toggleModal:s}),o.createElement("div",{className:"mobile-widget mobile-widget__multiplier-options",onClick:s},o.createElement("div",{className:"mobile-widget__item"},o.createElement("span",{className:"mobile-widget__item-value"},"x",n)),o.createElement("div",{className:"mobile-widget__item"},o.createElement("span",{className:"mobile-widget__item-label"},o.createElement(c.Localize,{i18n_default_text:"Commission: <0/>",components:[o.createElement(i.Money,{key:0,amount:t,currency:r})]})))))}));function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var a=te(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ee(this,r)}}function ee(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=Object(c.localize)("OK"),ne=function(e,t,r,n,a,o){"stake"===n&&t!==o?(e.basis="stake",e.amount=t):"payout"===n&&r!==o?(e.basis="payout",e.amount=r):a!==n&&(e.basis=n,e.amount=o)},ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(l,e);var t,r,n,a=X(l);function l(){return K(this,l),a.apply(this,arguments)}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.setDurationError(!1)}},{key:"render",value:function(){var e=this.props,t=e.basis_option,r=e.toggleModal,n=e.onChangeMultiple,a=e.duration_min_max,l=e.has_amount_error,u=e.trade_duration,s=e.trade_basis,d=e.trade_amount,_=e.trade_duration_unit,m=e.payout_value,p=e.stake_value,b=e.selected_duration,y=e.setSelectedDuration,v=Z(Object(D.c)(a,"tick","t"),2),h=v[0],g=v[1],E="t"===_&&u>=h,O=u<h&&b<h?h:b;return o.createElement("div",{className:"trade-params__duration-tickpicker"},o.createElement(i.TickPicker,{default_value:E?u:O,submit_label:re,max_value:g,min_value:h,onSubmit:function(e){var a=e.target.value,o={};l||ne(o,p,m,t,s,d),u===a&&"t"===_||(o.duration_unit="t",o.duration=a),Object(f.isEmptyObject)(o)||n(o),r()},onValueChange:function(e){return y("t",e)},singular_label:Object(c.localize)("Tick"),plural_label:Object(c.localize)("Ticks")}))}}])&&Y(t.prototype,r),n&&Y(t,n),l}(o.Component),oe=Object(d.b)((function(e){var t=e.modules;return{duration_min_max:t.trade.duration_min_max,onChangeMultiple:t.trade.onChangeMultiple,trade_basis:t.trade.basis,trade_amount:t.trade.amount,trade_duration:t.trade.duration,trade_duration_unit:t.trade.duration_unit}}))(ae),ie=Object(d.b)((function(e){var t=e.modules,r=e.ui;return{duration_min_max:t.trade.duration_min_max,trade_duration:t.trade.duration,trade_duration_unit:t.trade.duration_unit,trade_basis:t.trade.basis,trade_amount:t.trade.amount,onChangeMultiple:t.trade.onChangeMultiple,addToast:r.addToast}}))((function(e){var t=e.addToast,r=e.setDurationError,n=e.basis_option,a=e.toggleModal,l=e.onChangeMultiple,u=e.duration_min_max,s=e.duration_unit_option,d=e.has_amount_error,_=e.contract_expiry,m=void 0===_?"intraday":_,p=e.payout_value,b=e.stake_value,y=e.trade_amount,v=e.trade_basis,h=e.trade_duration_unit,g=e.trade_duration,E=e.selected_duration,O=e.setSelectedDuration,j=s.value,w=Z(Object(D.c)(u,m,j),2),x=w[0],S=w[1],k=function(e){var n=o.createElement(c.Localize,{i18n_default_text:"Should be between {{min}} and {{max}}",values:{min:x,max:Object(f.addComma)(S,0,!1)}});return parseInt(e)<x||parseInt(E)>S?(t({key:"duration_error",content:n,type:"error",timeout:2e3}),r(!0),"error"):parseInt(e)>S?(t({key:"duration_error",content:n,type:"error",timeout:2e3}),"error"):e.toString().length<1?(t({key:"duration_error",content:n,type:"error",timeout:2e3}),r(!0),!1):(r(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(i.Numpad,{value:E,onSubmit:function(e){var t={};d||ne(t,b,p,n,v,y),g===e&&h===j||(t.duration_unit=j,t.duration=e,t.expiry_type="duration"),Object(f.isEmptyObject)(t)||l(t),a()},render:function(e){var t=e.value,r=e.className;return o.createElement("div",{className:r},t)},pip_size:0,submit_label:re,min:x,max:S,reset_press_interval:350,reset_value:"",onValidate:k,onValueChange:function(e){O(j,e),k(e)}}))})),le=Object(d.b)((function(e){var t=e.modules;return{duration_units_list:t.trade.duration_units_list,duration_min_max:t.trade.duration_min_max,duration_unit:t.trade.duration_unit,trade_basis:t.trade.basis}}))((function(e){var t=e.amount_tab_idx,r=e.toggleModal,n=e.duration_units_list,a=e.duration_unit,l=e.duration_tab_idx,u=e.duration_min_max,s=e.has_amount_error,d=e.setDurationTabIdx,_=e.setDurationError,m=e.t_duration,p=e.s_duration,f=e.m_duration,b=e.h_duration,y=e.d_duration,v=e.setSelectedDuration,h=e.trade_basis,g=e.stake_value,E=e.payout_value,O={t_duration:m,s_duration:p,m_duration:f,h_duration:b,d_duration:y},j=void 0!==l?l:n.findIndex((function(e){return e.value===a})),w=Z(Object(D.c)(u,"daily","d"),2),x=w[0],S=w[1],k=function(e){v("d",e)},A=function(){return 0===t?"stake":1===t?"payout":h};return o.createElement("div",null,o.createElement(i.Tabs,{active_index:j,onTabItemClick:function(e){return function(e){d(e);var t=n[e].value;v(t,O["".concat(t,"_duration")])}(e)},single_tab_has_no_label:!0,top:!0},n.map((function(e){switch(e.value){case"t":return o.createElement("div",{label:e.text,key:e.value},o.createElement(oe,{basis_option:A(),has_amount_error:s,toggleModal:r,selected_duration:m,setDurationError:_,setSelectedDuration:v,stake_value:g,payout_value:E}));case"s":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ie,{basis_option:A(),has_amount_error:s,toggleModal:r,duration_unit_option:e,selected_duration:p,setDurationError:_,setSelectedDuration:v,stake_value:g,payout_value:E}));case"m":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ie,{basis_option:A(),has_amount_error:s,toggleModal:r,duration_unit_option:e,selected_duration:f,setDurationError:_,setSelectedDuration:v,stake_value:g,payout_value:E}));case"h":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ie,{basis_option:A(),has_amount_error:s,toggleModal:r,duration_unit_option:e,selected_duration:b,setDurationError:_,setSelectedDuration:v,stake_value:g,payout_value:E}));case"d":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ie,{basis_option:A(),has_amount_error:s,toggleModal:r,duration_unit_option:e,contract_expiry:"daily",selected_duration:y,setDurationError:_,setSelectedDuration:v,stake_value:g,payout_value:E}),o.createElement(i.RelativeDatepicker,{onChange:k,min:x,max:S,title:Object(c.localize)("Pick an end date")}));default:return null}}))))})),ue=r("./Modules/Trading/Components/Form/TradeParams/barrier.jsx"),se=r("./Modules/Trading/Components/Form/TradeParams/last-digit.jsx");r("./sass/app/modules/trading-mobile.scss");function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=be(e);if(t){var a=be(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return fe(this,r)}}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye=Object.freeze({t:5,s:15,m:3,h:1,d:1}),ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(l,e);var t,r,n,a=pe(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).preventIOSZoom=function(e){e.touches.length>1&&(e.preventDefault(),e.stopPropagation())},t.setTradeParamTabIdx=function(e){return t.setState({trade_param_tab_idx:e})},t.setDurationTabIdx=function(e){return t.setState({duration_tab_idx:e})},t.setAmountTabIdx=function(e){return t.setState({amount_tab_idx:e})},t.setSelectedAmount=function(e,r){return t.setState(de({},"".concat(e,"_value"),r))},t.setSelectedDuration=function(e,r){var n;t.setState((de(n={},"".concat(e,"_duration"),r),de(n,"curr_duration_unit",e),de(n,"curr_duration_value",r),n))},t.setAmountError=function(e){t.setState({has_amount_error:e})},t.setDurationError=function(e){t.setState({has_duration_error:e})},t.isVisible=function(e){return t.props.form_components.includes(e)};var r,n,o=t.props,i=o.amount,u=o.duration,s=o.duration_unit,c=(r=u,n=s,function(e){return n===e?r:ye[e]});return t.state={trade_param_tab_idx:0,duration_tab_idx:void 0,amount_tab_idx:void 0,has_amount_error:!1,has_duration_error:!1,curr_duration_unit:s,curr_duration_value:u,t_duration:c("t"),s_duration:c("s"),m_duration:c("m"),h_duration:c("h"),d_duration:c("d"),stake_value:i,payout_value:i},t}return t=l,(r=[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("touchstart",(function(t){return e.preventIOSZoom(t)}),{passive:!1})}},{key:"componentDidUpdate",value:function(e){this.props.duration===e.duration&&this.props.duration_unit===e.duration_unit||(this.setSelectedDuration(this.props.duration_unit,this.props.duration),this.setState({duration_tab_idx:void 0}))}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("touchstart",(function(t){return e.preventIOSZoom(t)}))}},{key:"render",value:function(){var e=this.props,t=e.currency,r=e.duration_units_list;return o.createElement(o.Fragment,null,o.createElement(i.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:this.props.enableApp,is_open:this.props.is_open,is_vertical_top:!0,header:o.createElement("div",null),disableApp:this.props.disableApp,toggleModal:this.props.toggleModal,height:"auto",width:"calc(100vw - 32px)"},o.createElement(i.ThemedScrollbars,null,o.createElement(i.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"120px"},o.createElement(ge,{currency:t,toggleModal:this.props.toggleModal,isVisible:this.isVisible,setTradeParamTabIdx:this.setTradeParamTabIdx,trade_param_tab_idx:this.state.trade_param_tab_idx,setDurationTabIdx:this.setDurationTabIdx,duration_tab_idx:this.state.duration_tab_idx,setAmountTabIdx:this.setAmountTabIdx,amount_tab_idx:this.state.amount_tab_idx,setSelectedAmount:this.setSelectedAmount,stake_value:this.state.stake_value,payout_value:this.state.payout_value,duration_unit:this.state.curr_duration_unit,duration_value:this.state.curr_duration_value,duration_units_list:r,has_amount_error:this.state.has_amount_error,setAmountError:this.setAmountError,setSelectedDuration:this.setSelectedDuration,has_duration_error:this.state.has_duration_error,setDurationError:this.setDurationError,t_duration:this.state.t_duration,s_duration:this.state.s_duration,m_duration:this.state.m_duration,h_duration:this.state.h_duration,d_duration:this.state.d_duration})))))}}])&&_e(t.prototype,r),n&&_e(t,n),l}(o.Component),he=Object(d.b)((function(e){var t=e.client,r=e.modules,n=e.ui;return{amount:r.trade.amount,form_components:r.trade.form_components,currency:t.currency,duration:r.trade.duration,duration_unit:r.trade.duration_unit,duration_units_list:r.trade.duration_units_list,expiry_type:r.trade.expiry_type,enableApp:n.enableApp,disableApp:n.disableApp}}))(ve),ge=Object(d.b)((function(e){var t=e.modules;return{basis_list:t.trade.basis_list,basis:t.trade.basis}}))((function(e){var t=e.currency,r=e.toggleModal,n=e.isVisible,a=e.setAmountTabIdx,l=e.amount_tab_idx,u=e.setTradeParamTabIdx,d=e.trade_param_tab_idx,_=e.setDurationTabIdx,m=e.duration_unit,p=e.duration_units_list,f=e.duration_value,b=e.duration_tab_idx,y=e.has_amount_error,v=e.has_duration_error,h=e.setAmountError,g=e.setSelectedAmount,E=e.stake_value,O=e.payout_value,j=e.setDurationError,w=e.setSelectedDuration,x=e.t_duration,S=e.s_duration,k=e.m_duration,A=e.h_duration,C=e.d_duration,M=e.basis_list,T=e.basis,N=function(e){switch(e){case"duration":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(c.localize)("Duration")),o.createElement("div",{className:s()("trade-params__header-value",{"trade-params__header-value--has-error":v})},v?Object(c.localize)("Error"):(n=p.find((function(e){return e.value===m})),"".concat(f," ").concat(n&&(f>1?Object(c.localize)(n.text):Object(c.localize)(n.text.slice(0,-1)))))));case"amount":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(c.localize)("Amount")),o.createElement("div",{className:s()("trade-params__header-value",{"trade-params__header-value--has-error":y})},y?Object(c.localize)("Error"):(r=void 0!==l?l:M.findIndex((function(e){return e.value===T})),o.createElement(i.Money,{currency:t,show_currency:!0,amount:1===r?O:E}))));default:return null}var r,n};return o.createElement(i.Tabs,{active_index:d,className:"trade-params-duration-amount",onTabItemClick:u,top:!0},n("duration")&&o.createElement("div",{header_content:N("duration")},o.createElement(le,{toggleModal:r,amount_tab_idx:l,duration_tab_idx:b,setDurationTabIdx:_,setSelectedDuration:w,setDurationError:j,has_amount_error:y,t_duration:x,s_duration:S,m_duration:k,h_duration:A,d_duration:C,stake_value:E,payout_value:O})),n("amount")&&o.createElement("div",{header_content:N("amount")},o.createElement(z,{duration_unit:m,duration_value:f,toggleModal:r,amount_tab_idx:l,setAmountTabIdx:a,has_duration_error:v,setSelectedAmount:g,setAmountError:h,stake_value:E,payout_value:O})))})),Ee=Object(d.b)((function(e){return{form_components:e.modules.trade.form_components}}))((function(e){return e.form_components.includes("last_digit")&&o.createElement(se.a,null)})),Oe=Object(d.b)((function(e){return{form_components:e.modules.trade.form_components}}))((function(e){return e.form_components.includes("barrier")&&o.createElement(ue.a,null)}));function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Me(e);if(t){var a=Me(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ce(this,r)}}function Ce(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(l,e);var t,r,n,a=Ae(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).toggleWidget=function(){t.setState({is_open:!t.state.is_open})},t.isVisible=function(e){return t.props.form_components.includes(e)},t.state={is_open:!1},t}return t=l,(r=[{key:"componentDidUpdate",value:function(){this.assertDurationIsWithinBoundary()}},{key:"assertDurationIsWithinBoundary",value:function(){var e=this.props,t=e.duration_min_max,r=e.duration,n=e.duration_unit,a=e.trade_store,o=e.onChange,i=e.onChangeUiStore,l=Object(D.d)(a),u=we(Object(D.c)(t,l,n),2),s=u[0],c=u[1];"tick"===l&&r<s&&(i({name:"duration_".concat(n),value:s}),o({target:{name:"duration",value:s}})),!(r<s)&&r>c&&(i({name:"duration_".concat(n),value:c}),o({target:{name:"duration",value:c}}))}},{key:"getHumanReadableDuration",value:function(){var e=this.props,t=e.duration,r=e.duration_unit,n={t:[Object(c.localize)("tick"),Object(c.localize)("ticks")],s:[Object(c.localize)("second"),Object(c.localize)("seconds")],m:[Object(c.localize)("min"),Object(c.localize)("mins")],h:[Object(c.localize)("hour"),Object(c.localize)("hours")],d:[Object(c.localize)("day"),Object(c.localize)("days")]},a=1==+t?n[r][0]:n[r][1];return"".concat(t," ").concat(a)}},{key:"render",value:function(){var e=this.props,t=e.amount,r=e.basis,n=e.currency,a=e.last_digit,l=e.is_multiplier,u=Object(I.c)();return o.createElement("div",{className:"mobile-widget__wrapper"},l?o.createElement(o.Fragment,null,o.createElement(H,null),o.createElement(B,null)):o.createElement("div",{className:"mobile-widget",onClick:this.toggleWidget},o.createElement("div",{className:"mobile-widget__duration"},this.getHumanReadableDuration()),o.createElement("div",{className:"mobile-widget__amount"},o.createElement(i.Money,{amount:t,currency:n,show_currency:!0})),o.createElement("div",{className:"mobile-widget__type"},function(){switch(r){case"stake":return u.stake;case"payout":return u.payout;default:return r}}())),o.createElement(he,{is_open:this.state.is_open,toggleModal:this.toggleWidget}),this.isVisible("last_digit")&&this.props.is_collapsed&&o.createElement("div",{className:"mobile-widget",onClick:this.props.toggleDigitsWidget},o.createElement("div",{className:"mobile-widget__amount"},o.createElement(c.Localize,{i18n_default_text:"Digit: {{last_digit}} ",values:{last_digit:a}}))))}}])&&Se(t.prototype,r),n&&Se(t,n),l}(o.Component),Ne=Object(d.b)((function(e){var t=e.modules,r=e.ui;return{amount:t.trade.amount,basis:t.trade.basis,currency:t.trade.currency,duration:t.trade.duration,duration_unit:t.trade.duration_unit,onChange:t.trade.onChange,onChangeUiStore:r.onChangeUiStore,duration_min_max:t.trade.duration_min_max,trade_store:t.trade,form_components:t.trade.form_components,last_digit:t.trade.last_digit,is_multiplier:t.trade.is_multiplier}}))(Te),De=r("./Modules/Trading/Containers/contract-type.jsx"),Ie=r("./Modules/Trading/Containers/purchase.jsx");r("./sass/app/_common/mobile-widget.scss");function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Re=function(e){var t=e.form_components,r=e.has_allow_equals,n=e.previous_symbol,a=e.is_allow_equal,l=e.is_trade_params_expanded,u=e.is_multiplier,s=e.setIsTradeParamsExpanded;o.useEffect((function(){n&&a&&r&&s(!0)}),[n]);var c=!l,d=function(e){return t.includes(e)};return o.createElement(i.Collapsible,{position:"top",is_collapsed:c,onClick:function(e){s(e)}},o.createElement(De.a,null),d("last_digit")&&o.createElement("div",{collapsible:"true"},o.createElement(Ee,null)),d("barrier")&&o.createElement("div",{collapsible:"true"},o.createElement(Oe,null)),o.createElement(Ne,{is_collapsed:c,toggleDigitsWidget:function(){s(!0)}}),r&&o.createElement(m,{collapsible:"true"}),u&&o.createElement("div",{collapsible:"true"},o.createElement(N,null)),o.createElement("div",{className:"purchase-container"},o.createElement(Ie.a,null)))},Fe=function(e){var t=e.is_trade_enabled,r=e.duration_unit,n=e.contract_types_list,a=e.contract_type,i=e.expiry_type,u=e.contract_start_type,s=ze(e,["is_trade_enabled","duration_unit","contract_types_list","contract_type","expiry_type","contract_start_type"]),c=Object(p.b)(n,r,u),d=Object(p.a)(n),_=Object(p.c)(a)&&(c||"endtime"===i)&&d;return t?o.createElement(Re,Pe({has_allow_equals:_},s)):o.createElement("div",{className:"mobile-wrapper__content-loader"},o.createElement(l.c,{speed:2}))};Fe.propTypes={is_trade_enabled:a.a.bool};t.default=Object(d.b)((function(e){var t=e.modules;return{is_allow_equal:!!t.trade.is_equal,is_multiplier:t.trade.is_multiplier,duration_unit:t.trade.duration_unit,contract_types_list:t.trade.contract_types_list,contract_type:t.trade.contract_type,expiry_type:t.trade.expiry_type,contract_start_type:t.trade.contract_start_type,form_components:t.trade.form_components,previous_symbol:t.trade.previous_symbol,is_trade_params_expanded:t.trade.is_trade_params_expanded,setIsTradeParamsExpanded:t.trade.setIsTradeParamsExpanded}}))(Fe)},"./sass/app/_common/mobile-widget.scss":function(e,t,r){},"./sass/app/modules/trading-mobile.scss":function(e,t,r){}}]);
//# sourceMappingURL=trader.screen-small.3699b0d7dd3f90d0557e.js.map