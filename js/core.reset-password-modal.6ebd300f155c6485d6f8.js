(window.webpackJsonp=window.webpackJsonp||[]).push([["reset-password-modal"],{692:function(e,s,r){"use strict";r.r(s),r.d(s,"default",(function(){return g}));var t=r(0),a=r(1),o=r.n(a),n=r(5),i=r.n(n),l=r(11),c=r(6),d=r(4),p=r(2),u=r(9),m=r(10);function _(e,s,r,t,a,o,n){try{var i=e[o](n),l=i.value}catch(e){return void r(e)}i.done?s(l):Promise.resolve(l).then(t,a)}var w=function(e){var s=e.logoutClient,r=e.verification_code,a=function(e,r){if(r.setSubmitting(!1),r.resetForm({password:""}),e)return console.error(e),void r.setStatus({error_msg:e});r.setStatus({reset_complete:!0}),s().then((function(){Object(d.redirectToLogin)(!1,Object(p.getLanguage)())}))};return t.createElement("div",{className:"reset-password"},t.createElement(l.Formik,{initialValues:{password:""},initialStatus:{reset_complete:!1,error_msg:""},validate:function(e){var s={};return Object(d.validLength)(e.password,{min:8,max:25})?Object(d.validPassword)(e.password)||(s.password=Object(d.getErrorMessages)().password()):s.password=Object(p.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),s},onSubmit:function(e,s){var t={reset_password:1,new_password:e.password,verification_code:r};m.b.resetPassword(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.error?a(r.error.message,s):a(null,s);case 1:case"end":return e.stop()}}),e)})),function(){var s=this,r=arguments;return new Promise((function(t,a){var o=e.apply(s,r);function n(e){_(o,t,a,n,i,"next",e)}function i(e){_(o,t,a,n,i,"throw",e)}n(void 0)}))});return function(e){return r.apply(this,arguments)}}())}},(function(e){var s=e.handleBlur,r=e.errors,a=e.values,o=e.touched,n=e.isSubmitting,u=e.handleChange,m=e.status;return t.createElement(l.Form,null,t.createElement(t.Fragment,null,m.reset_complete?t.createElement("div",{className:"reset-password__password-selection"},t.createElement(c.Text,{as:"p",weight:"bold",className:"reset-password__heading"},t.createElement(p.Localize,{i18n_default_text:"Your password has been changed"})),t.createElement(c.Text,{as:"p",size:"xxs",className:"reset-password__subtext"},t.createElement(p.Localize,{i18n_default_text:"We will now redirect you to the login page."}))):t.createElement("div",{className:"reset-password__password-selection"},t.createElement(c.Text,{as:"p",weight:"bold",className:"reset-password__heading"},t.createElement(p.Localize,{i18n_default_text:"Choose a new password"})),t.createElement("fieldset",{className:"reset-password__fieldset"},t.createElement(c.PasswordMeter,{input:a.password,has_error:!(!o.password||!r.password),custom_feedback_messages:Object(d.getErrorMessages)().password_warnings},t.createElement(c.PasswordInput,{className:"reset-password__password-field",name:"password",label:Object(p.localize)("Create a password"),onChange:u,onBlur:s,error:o.password&&r.password,value:a.password,"data-lpignore":"true",required:!0}))),t.createElement(c.Text,{as:"p",size:"xxs",className:"reset-password__subtext"},m.error_msg?t.createElement(p.Localize,{i18n_default_text:"{{error_msg}}",values:{error_msg:m.error_msg}}):t.createElement(p.Localize,{i18n_default_text:"Strong passwords contain at least 8 characters, combine uppercase and lowercase letters, numbers, and symbols."})),t.createElement(c.Button,{className:i()("reset-password__btn",{"reset-password__btn--disabled":!a.password||r.password||n}),type:"submit",is_disabled:!a.password||!!r.password||n,primary:!0},t.createElement(p.Localize,{i18n_default_text:"Reset my password"})))))})))};w.propTypes={logoutClient:o.a.func,verification_code:o.a.string};var b=function(e){var s=e.disableApp,r=e.enableApp,a=e.is_loading,o=e.is_visible,n=e.logoutClient,i=e.verification_code;return t.createElement(c.Dialog,{is_visible:o,disableApp:s,enableApp:r,is_loading:a},t.createElement(w,{verification_code:i,logoutClient:n}))};b.propTypes={disableApp:o.a.func,enableApp:o.a.func,is_loading:o.a.bool,is_visible:o.a.bool,logoutClient:o.a.func,verification_code:o.a.string};var g=Object(u.b)((function(e){var s=e.ui,r=e.client;return{disableApp:s.disableApp,enableApp:s.enableApp,is_loading:s.is_loading,is_visible:s.is_reset_password_modal_visible,logoutClient:r.logout,verification_code:r.verification_code.reset_password}}))(b)}}]);
//# sourceMappingURL=core.reset-password-modal.6ebd300f155c6485d6f8.js.map