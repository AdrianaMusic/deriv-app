(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["screen-small"],{"./Modules/Trading/Components/Form/screen-small.jsx":function(t,e,r){"use strict";r.r(e);var a=r("../node_modules/prop-types/index.js"),n=r.n(a),o=r("react"),i=r("@deriv/components"),u=r("./App/Components/Elements/ContentLoader/index.js"),s=r("../node_modules/classnames/index.js"),l=r.n(s),c=r("@deriv/translations"),d=r("./Stores/connect.js"),_=function(t){var e=t.onChange,r=t.is_allow_equal,a=t.className;return o.createElement("div",{className:l()("allow-equals","mobile-widget",a)},o.createElement(i.Checkbox,{label:Object(c.localize)("Equals"),value:r,name:"is_equal",onChange:function(t){t.persist();var r=t.target,a=r.name,n=r.checked;e({target:{name:a,value:Number(n)}})}}),o.createElement("p",{className:"allow-equals__subtitle"},o.createElement(c.Localize,{i18n_default_text:"Win payout if exit spot is also equal to entry spot."})))};_.propTypes={is_allow_equal:n.a.bool,onChange:n.a.func};var m=Object(d.b)((function(t){var e=t.modules;return{is_allow_equal:!!e.trade.is_equal,onChange:e.trade.onChange}}))(_),p=r("./Stores/Modules/Trading/Helpers/allow-equals.js"),f=r("./Stores/Modules/Trading/Helpers/duration.js"),b=r("./Stores/Modules/Trading/Constants/contract.js"),y=r("@deriv/shared"),v=Object(d.b)((function(t){var e=t.modules,r=t.client,a=t.ui;return{onChangeMultiple:e.trade.onChangeMultiple,trade_amount:e.trade.amount,trade_basis:e.trade.basis,trade_duration_unit:e.trade.duration_unit,trade_duration:e.trade.duration,currency:r.currency,setToastErrorMessage:a.setToastErrorMessage,setToastErrorVisibility:a.setToastErrorVisibility}}))((function(t){var e=t.duration_unit,r=t.duration_value,a=t.toggleModal,n=t.basis,u=t.has_duration_error,s=t.selected_basis,l=t.setSelectedAmount,d=t.onChangeMultiple,_=t.currency,m=t.trade_amount,p=t.trade_basis,f=t.trade_duration,b=t.trade_duration_unit,v=t.setAmountError,h=t.setToastErrorMessage,g=t.setToastErrorVisibility,E=Object(y.getDecimalPlaces)(_),x=Number("0").toFixed(Object(y.getDecimalPlaces)(_)),O=parseFloat(x.toString().replace(/.$/,"1")),j=function(t){var e=o.createElement(c.Localize,{i18n_default_text:"Should not be 0 or empty"}),r=parseFloat(t.toString());return"0."===t.toString()||0===r?(h(e,2e3),g(!0),v(!0),"error"):isNaN(r)||r<O||t.toString().length<1?(h(e,2e3),g(!0),v(!0),!1):(g(!1),v(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(i.Numpad,{value:s,format:function(t){return isNaN(t)||""===t?t:Number(t).toFixed(E)},onSubmit:function(t){var o={};e===b||u||(o.duration_unit=e),r===f||u||(o.duration=r),t===m&&n===p||(o.basis=n,o.amount=t),Object(y.isEmptyObject)(o)||d(o),a()},currency:_,min:O,is_currency:!0,render:function(t){var e=t.value,r=t.className;return o.createElement("div",{className:r},parseFloat(e)>0?o.createElement(i.Money,{currency:_,amount:e,should_format:!1}):e)},reset_press_interval:450,reset_value:"",pip_size:E,onValidate:j,submit_label:Object(c.localize)("OK"),onValueChange:function(t){l(n,t),j(t)}}))})),h=Object(d.b)((function(t){var e=t.modules;return{basis:e.trade.basis,basis_list:e.trade.basis_list,onChangeMultiple:e.trade.onChangeMultiple}}))((function(t){var e=t.toggleModal,r=t.basis_list,a=t.basis,n=t.duration_value,u=t.duration_unit,s=t.has_duration_error,l=t.amount_tab_idx,c=t.setAmountError,d=t.setAmountTabIdx,_=t.setSelectedAmount,m=t.stake_value,p=t.payout_value,f=void 0!==l?l:r.findIndex((function(t){return t.value===a}));return o.createElement("div",null,o.createElement(i.Tabs,{active_index:f,onTabItemClick:d,top:!0},r.map((function(t){switch(t.value){case"stake":return o.createElement("div",{label:t.text,key:t.value},o.createElement(v,{toggleModal:e,duration_value:n,duration_unit:u,has_duration_error:s,basis:t.value,setAmountError:c,selected_basis:m,setSelectedAmount:_}));case"payout":return o.createElement("div",{label:t.text,key:t.value},o.createElement(v,{toggleModal:e,duration_value:n,duration_unit:u,has_duration_error:s,basis:t.value,setAmountError:c,selected_basis:p,setSelectedAmount:_}));default:return null}}))))}));function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],a=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==u.return||u.return()}finally{if(n)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=T(t);if(e){var n=T(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return k(this,r)}}function k(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=Object(c.localize)("OK"),M=function(t,e,r,a,n,o){"stake"===a&&e!==o?(t.basis="stake",t.amount=e):"payout"===a&&r!==o?(t.basis="payout",t.amount=r):n!==a&&(t.basis=a,t.amount=o)},C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(u,t);var e,r,a,n=w(u);function u(){return O(this,u),n.apply(this,arguments)}return e=u,(r=[{key:"componentDidMount",value:function(){this.props.setDurationError(!1)}},{key:"render",value:function(){var t=this.props,e=t.basis_option,r=t.toggleModal,a=t.onChangeMultiple,n=t.duration_min_max,u=t.has_amount_error,s=t.trade_duration,l=t.trade_basis,d=t.trade_amount,_=t.trade_duration_unit,m=t.payout_value,p=t.stake_value,b=t.selected_duration,v=t.setSelectedDuration,h=E(Object(f.c)(n,"tick","t"),2),g=h[0],x=h[1],O="t"===_&&s>=g,j=s<g&&b<g?g:b;return o.createElement("div",{className:"trade-params__duration-tickpicker"},o.createElement(i.TickPicker,{default_value:O?s:j,submit_label:D,max_value:x,min_value:g,onSubmit:function(t){var n=t.target.value,o={};u||M(o,p,m,e,l,d),s===n&&"t"===_||(o.duration_unit="t",o.duration=n),Object(y.isEmptyObject)(o)||a(o),r()},onValueChange:function(t){return v("t",t)},singular_label:Object(c.localize)("Tick"),plural_label:Object(c.localize)("Ticks")}))}}])&&j(e.prototype,r),a&&j(e,a),u}(o.Component),A=Object(d.b)((function(t){var e=t.modules;return{duration_min_max:e.trade.duration_min_max,onChangeMultiple:e.trade.onChangeMultiple,trade_basis:e.trade.basis,trade_amount:e.trade.amount,trade_duration:e.trade.duration,trade_duration_unit:e.trade.duration_unit}}))(C),I=Object(d.b)((function(t){var e=t.modules,r=t.ui;return{duration_min_max:e.trade.duration_min_max,trade_duration:e.trade.duration,trade_duration_unit:e.trade.duration_unit,trade_basis:e.trade.basis,trade_amount:e.trade.amount,onChangeMultiple:e.trade.onChangeMultiple,setToastErrorMessage:r.setToastErrorMessage,setToastErrorVisibility:r.setToastErrorVisibility}}))((function(t){var e=t.setDurationError,r=t.basis_option,a=t.toggleModal,n=t.onChangeMultiple,u=t.duration_min_max,s=t.duration_unit_option,l=t.has_amount_error,d=t.contract_expiry,_=void 0===d?"intraday":d,m=t.payout_value,p=t.stake_value,b=t.trade_amount,v=t.trade_basis,h=t.trade_duration_unit,g=t.trade_duration,x=t.selected_duration,O=t.setSelectedDuration,j=t.setToastErrorMessage,S=t.setToastErrorVisibility,w=s.value,k=E(Object(f.c)(u,_,w),2),T=k[0],C=k[1],A=function(t){var r=o.createElement(c.Localize,{i18n_default_text:"Should be between {{min}} and {{max}}",values:{min:T,max:Object(y.addComma)(C,0,!1)}});return parseInt(t)<T||parseInt(x)>C?(j(r,2e3),S(!0),e(!0),"error"):parseInt(t)>C?(j(r,2e3),S(!0),"error"):t.toString().length<1?(j(r,2e3),S(!0),e(!0),!1):(S(!1),e(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(i.Numpad,{value:x,onSubmit:function(t){var e={};l||M(e,p,m,r,v,b),g===t&&h===w||(e.duration_unit=w,e.duration=t,e.expiry_type="duration"),Object(y.isEmptyObject)(e)||n(e),a()},render:function(t){var e=t.value,r=t.className;return o.createElement("div",{className:r},e)},pip_size:0,submit_label:D,min:T,max:C,reset_press_interval:350,reset_value:"",onValidate:A,onValueChange:function(t){O(w,t),A(t)}}))})),N=Object(d.b)((function(t){var e=t.modules;return{duration_units_list:e.trade.duration_units_list,duration_min_max:e.trade.duration_min_max,duration_unit:e.trade.duration_unit,trade_basis:e.trade.basis}}))((function(t){var e=t.amount_tab_idx,r=t.toggleModal,a=t.duration_units_list,n=t.duration_unit,u=t.duration_tab_idx,s=t.duration_min_max,l=t.has_amount_error,d=t.setDurationTabIdx,_=t.setDurationError,m=t.t_duration,p=t.s_duration,b=t.m_duration,y=t.h_duration,v=t.d_duration,h=t.setSelectedDuration,g=t.trade_basis,x=t.stake_value,O=t.payout_value,j={t_duration:m,s_duration:p,m_duration:b,h_duration:y,d_duration:v},S=void 0!==u?u:a.findIndex((function(t){return t.value===n})),w=E(Object(f.c)(s,"daily","d"),2),k=w[0],T=w[1],D=function(t){h("d",t)},M=function(){return 0===e?"stake":1===e?"payout":g};return o.createElement("div",null,o.createElement(i.Tabs,{active_index:S,onTabItemClick:function(t){return function(t){d(t);var e=a[t].value;h(e,j["".concat(e,"_duration")])}(t)},single_tab_has_no_label:!0,top:!0},a.map((function(t){switch(t.value){case"t":return o.createElement("div",{label:t.text,key:t.value},o.createElement(A,{basis_option:M(),has_amount_error:l,toggleModal:r,selected_duration:m,setDurationError:_,setSelectedDuration:h,stake_value:x,payout_value:O}));case"s":return o.createElement("div",{label:t.text,key:t.value},o.createElement(I,{basis_option:M(),has_amount_error:l,toggleModal:r,duration_unit_option:t,selected_duration:p,setDurationError:_,setSelectedDuration:h,stake_value:x,payout_value:O}));case"m":return o.createElement("div",{label:t.text,key:t.value},o.createElement(I,{basis_option:M(),has_amount_error:l,toggleModal:r,duration_unit_option:t,selected_duration:b,setDurationError:_,setSelectedDuration:h,stake_value:x,payout_value:O}));case"h":return o.createElement("div",{label:t.text,key:t.value},o.createElement(I,{basis_option:M(),has_amount_error:l,toggleModal:r,duration_unit_option:t,selected_duration:y,setDurationError:_,setSelectedDuration:h,stake_value:x,payout_value:O}));case"d":return o.createElement("div",{label:t.text,key:t.value},o.createElement(I,{basis_option:M(),has_amount_error:l,toggleModal:r,duration_unit_option:t,contract_expiry:"daily",selected_duration:v,setDurationError:_,setSelectedDuration:h,stake_value:x,payout_value:O}),o.createElement(i.RelativeDatepicker,{onChange:D,min:k,max:T,title:Object(c.localize)("Pick an end date")}));default:return null}}))))})),P=r("./Modules/Trading/Components/Form/TradeParams/barrier.jsx"),z=r("./Modules/Trading/Components/Form/TradeParams/last-digit.jsx"),R=r("./Modules/Trading/Containers/toast-error-popup.jsx");r("./sass/app/modules/trading-mobile.scss");function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=H(t);if(e){var n=H(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return L(this,r)}}function L(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=Object.freeze({t:5,s:15,m:3,h:1,d:1}),$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(u,t);var e,r,a,n=U(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=n.call(this,t)).preventIOSZoom=function(t){t.touches.length>1&&(t.preventDefault(),t.stopPropagation())},e.setTradeParamTabIdx=function(t){return e.setState({trade_param_tab_idx:t})},e.setDurationTabIdx=function(t){return e.setState({duration_tab_idx:t})},e.setAmountTabIdx=function(t){return e.setState({amount_tab_idx:t})},e.setSelectedAmount=function(t,r){return e.setState(q({},"".concat(t,"_value"),r))},e.setSelectedDuration=function(t,r){var a;e.setState((q(a={},"".concat(t,"_duration"),r),q(a,"curr_duration_unit",t),q(a,"curr_duration_value",r),a))},e.setAmountError=function(t){e.setState({has_amount_error:t})},e.setDurationError=function(t){e.setState({has_duration_error:t})},e.isVisible=function(t){return e.props.form_components.includes(t)};var r,a,o=e.props,i=o.amount,s=o.duration,l=o.duration_unit,c=(r=s,a=l,function(t){return a===t?r:Z[t]});return e.state={trade_param_tab_idx:0,duration_tab_idx:void 0,amount_tab_idx:void 0,has_amount_error:!1,has_duration_error:!1,curr_duration_unit:l,curr_duration_value:s,t_duration:c("t"),s_duration:c("s"),m_duration:c("m"),h_duration:c("h"),d_duration:c("d"),stake_value:i,payout_value:i},e}return e=u,(r=[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("touchstart",(function(e){return t.preventIOSZoom(e)}),{passive:!1})}},{key:"componentDidUpdate",value:function(t){this.props.duration===t.duration&&this.props.duration_unit===t.duration_unit||(this.setSelectedDuration(this.props.duration_unit,this.props.duration),this.setState({duration_tab_idx:void 0}))}},{key:"componentWillUnmount",value:function(){var t=this;document.removeEventListener("touchstart",(function(e){return t.preventIOSZoom(e)}))}},{key:"render",value:function(){var t=this.props,e=t.currency,r=t.duration_units_list;return o.createElement(o.Fragment,null,o.createElement(R.b,{portal_id:this.props.is_open?"modal_root":null,className:l()("trade-params__error-popup",{"trade-params__error-popup--has-numpad":this.props.is_open})}),o.createElement(i.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:this.props.enableApp,is_open:this.props.is_open,is_vertical_top:!0,header:o.createElement("div",null),disableApp:this.props.disableApp,toggleModal:this.props.toggleModal,height:"auto",width:"calc(100vw - 32px)"},o.createElement(i.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},o.createElement(J,{currency:e,toggleModal:this.props.toggleModal,isVisible:this.isVisible,setTradeParamTabIdx:this.setTradeParamTabIdx,trade_param_tab_idx:this.state.trade_param_tab_idx,setDurationTabIdx:this.setDurationTabIdx,duration_tab_idx:this.state.duration_tab_idx,setAmountTabIdx:this.setAmountTabIdx,amount_tab_idx:this.state.amount_tab_idx,setSelectedAmount:this.setSelectedAmount,stake_value:this.state.stake_value,payout_value:this.state.payout_value,duration_unit:this.state.curr_duration_unit,duration_value:this.state.curr_duration_value,duration_units_list:r,has_amount_error:this.state.has_amount_error,setAmountError:this.setAmountError,setSelectedDuration:this.setSelectedDuration,has_duration_error:this.state.has_duration_error,setDurationError:this.setDurationError,t_duration:this.state.t_duration,s_duration:this.state.s_duration,m_duration:this.state.m_duration,h_duration:this.state.h_duration,d_duration:this.state.d_duration}))))}}])&&F(e.prototype,r),a&&F(e,a),u}(o.Component),B=Object(d.b)((function(t){var e=t.client,r=t.modules,a=t.ui;return{amount:r.trade.amount,form_components:r.trade.form_components,currency:e.currency,duration:r.trade.duration,duration_unit:r.trade.duration_unit,duration_units_list:r.trade.duration_units_list,expiry_type:r.trade.expiry_type,enableApp:a.enableApp,disableApp:a.disableApp}}))($),J=Object(d.b)((function(t){var e=t.modules;return{basis_list:e.trade.basis_list,basis:e.trade.basis}}))((function(t){var e=t.currency,r=t.toggleModal,a=t.isVisible,n=t.setAmountTabIdx,u=t.amount_tab_idx,s=t.setTradeParamTabIdx,d=t.trade_param_tab_idx,_=t.setDurationTabIdx,m=t.duration_unit,p=t.duration_units_list,f=t.duration_value,b=t.duration_tab_idx,y=t.has_amount_error,v=t.has_duration_error,g=t.setAmountError,E=t.setSelectedAmount,x=t.stake_value,O=t.payout_value,j=t.setDurationError,S=t.setSelectedDuration,w=t.t_duration,k=t.s_duration,T=t.m_duration,D=t.h_duration,M=t.d_duration,C=t.basis_list,A=t.basis,I=function(t){switch(t){case"duration":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(c.localize)("Duration")),o.createElement("div",{className:l()("trade-params__header-value",{"trade-params__header-value--has-error":v})},v?Object(c.localize)("Error"):(a=p.find((function(t){return t.value===m})),"".concat(f," ").concat(a&&(f>1?Object(c.localize)(a.text):Object(c.localize)(a.text.slice(0,-1)))))));case"amount":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(c.localize)("Amount")),o.createElement("div",{className:l()("trade-params__header-value",{"trade-params__header-value--has-error":y})},y?Object(c.localize)("Error"):(r=void 0!==u?u:C.findIndex((function(t){return t.value===A})),o.createElement(i.Money,{currency:e,amount:1===r?O:x}))));default:return null}var r,a};return o.createElement(i.Tabs,{active_index:d,className:"trade-params-duration-amount",onTabItemClick:s,top:!0},a("duration")&&o.createElement("div",{header_content:I("duration")},o.createElement(N,{toggleModal:r,amount_tab_idx:u,duration_tab_idx:b,setDurationTabIdx:_,setSelectedDuration:S,setDurationError:j,has_amount_error:y,t_duration:w,s_duration:k,m_duration:T,h_duration:D,d_duration:M,stake_value:x,payout_value:O})),a("amount")&&o.createElement("div",{header_content:I("amount")},o.createElement(h,{duration_unit:m,duration_value:f,toggleModal:r,amount_tab_idx:u,setAmountTabIdx:n,has_duration_error:v,setSelectedAmount:E,setAmountError:g,stake_value:x,payout_value:O})))})),K=Object(d.b)((function(t){return{form_components:t.modules.trade.form_components}}))((function(t){return t.form_components.includes("last_digit")&&o.createElement(z.a,null)})),G=Object(d.b)((function(t){return{form_components:t.modules.trade.form_components}}))((function(t){return t.form_components.includes("barrier")&&o.createElement(P.a,null)}));function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],a=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==u.return||u.return()}finally{if(n)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function tt(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=nt(t);if(e){var n=nt(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return at(this,r)}}function at(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(u,t);var e,r,a,n=rt(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=n.call(this,t)).toggleWidget=function(){e.setState({is_open:!e.state.is_open})},e.isVisible=function(t){return e.props.form_components.includes(t)},e.state={is_open:!1},e}return e=u,(r=[{key:"componentDidUpdate",value:function(){this.assertDurationIsWithinBoundary()}},{key:"assertDurationIsWithinBoundary",value:function(){var t=this.props,e=t.duration_min_max,r=t.duration,a=t.duration_unit,n=t.trade_store,o=t.onChange,i=t.onChangeUiStore,u=Object(f.d)(n),s=X(Object(f.c)(e,u,a),2),l=s[0],c=s[1];"tick"===u&&r<l&&(i({name:"duration_".concat(a),value:l}),o({target:{name:"duration",value:l}})),!(r<l)&&r>c&&(i({name:"duration_".concat(a),value:c}),o({target:{name:"duration",value:c}}))}},{key:"getHumanReadableDuration",value:function(){var t=this.props,e=t.duration,r=t.duration_unit,a={t:[Object(c.localize)("tick"),Object(c.localize)("ticks")],s:[Object(c.localize)("second"),Object(c.localize)("seconds")],m:[Object(c.localize)("min"),Object(c.localize)("mins")],h:[Object(c.localize)("hour"),Object(c.localize)("hours")],d:[Object(c.localize)("day"),Object(c.localize)("days")]},n=1==+e?a[r][0]:a[r][1];return"".concat(e," ").concat(n)}},{key:"render",value:function(){var t=this.props,e=t.amount,r=t.basis,a=t.currency,n=t.last_digit,u=Object(b.c)();return o.createElement("div",{className:"mobile-widget__wrapper"},o.createElement("div",{className:"mobile-widget",onClick:this.toggleWidget},o.createElement("div",{className:"mobile-widget__duration"},this.getHumanReadableDuration()),o.createElement("div",{className:"mobile-widget__amount"},o.createElement(i.Money,{amount:e,currency:a})),o.createElement("div",{className:"mobile-widget__type"},function(){switch(r){case"stake":return u.stake;case"payout":return u.payout;default:return r}}())),o.createElement(B,{is_open:this.state.is_open,toggleModal:this.toggleWidget}),this.isVisible("last_digit")&&this.props.is_collapsed&&o.createElement("div",{className:"mobile-widget",onClick:this.props.toggleDigitsWidget},o.createElement("div",{className:"mobile-widget__amount"},o.createElement(c.Localize,{i18n_default_text:"Digit: {{last_digit}} ",values:{last_digit:n}}))))}}])&&tt(e.prototype,r),a&&tt(e,a),u}(o.Component),it=Object(d.b)((function(t){var e=t.modules,r=t.ui;return{amount:e.trade.amount,basis:e.trade.basis,currency:e.trade.currency,duration:e.trade.duration,duration_unit:e.trade.duration_unit,onChange:e.trade.onChange,onChangeUiStore:r.onChangeUiStore,duration_min_max:e.trade.duration_min_max,trade_store:e.trade,form_components:e.trade.form_components,last_digit:e.trade.last_digit}}))(ot),ut=r("./Modules/Trading/Containers/contract-type.jsx"),st=r("./Modules/Trading/Containers/purchase.jsx");r("./sass/app/_common/mobile-widget.scss");function lt(){return(lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}function ct(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},o=Object.keys(t);for(a=0;a<o.length;a++)r=o[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var dt=function(t){var e=t.form_components,r=t.has_allow_equals,a=t.previous_symbol,n=t.is_allow_equal,u=t.is_trade_params_expanded,s=t.setIsTradeParamsExpanded;o.useEffect((function(){a&&n&&r&&s(!0)}),[a]);var l=!u,c=function(t){return e.includes(t)};return o.createElement(i.Collapsible,{position:"top",is_collapsed:l,onClick:function(t){s(t)}},o.createElement(ut.a,null),c("last_digit")&&o.createElement("div",{collapsible:"true"},o.createElement(K,null)),c("barrier")&&o.createElement("div",{collapsible:"true"},o.createElement(G,null)),o.createElement(it,{is_collapsed:l,toggleDigitsWidget:function(){s(!0)}}),r&&o.createElement(m,{collapsible:"true"}),o.createElement("div",{className:"purchase-container"},o.createElement(st.a,null)))},_t=function(t){var e=t.is_trade_enabled,r=t.duration_unit,a=t.contract_types_list,n=t.contract_type,i=t.expiry_type,s=t.contract_start_type,l=ct(t,["is_trade_enabled","duration_unit","contract_types_list","contract_type","expiry_type","contract_start_type"]),c=Object(p.b)(a,r,s),d=Object(p.a)(a),_=Object(p.c)(n)&&(c||"endtime"===i)&&d;return e?o.createElement(dt,lt({has_allow_equals:_},l)):o.createElement("div",{className:"mobile-wrapper__content-loader"},o.createElement(u.c,{speed:2}))};_t.propTypes={is_trade_enabled:n.a.bool};e.default=Object(d.b)((function(t){var e=t.modules;return{is_allow_equal:!!e.trade.is_equal,duration_unit:e.trade.duration_unit,contract_types_list:e.trade.contract_types_list,contract_type:e.trade.contract_type,expiry_type:e.trade.expiry_type,contract_start_type:e.trade.contract_start_type,form_components:e.trade.form_components,previous_symbol:e.trade.previous_symbol,is_trade_params_expanded:e.trade.is_trade_params_expanded,setIsTradeParamsExpanded:e.trade.setIsTradeParamsExpanded}}))(_t)},"./sass/app/_common/mobile-widget.scss":function(t,e,r){},"./sass/app/modules/trading-mobile.scss":function(t,e,r){}}]);
//# sourceMappingURL=trader.screen-small.89f54098e57d837bc085.js.map